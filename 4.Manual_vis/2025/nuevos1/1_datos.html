<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="es" xml:lang="es"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.335">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Javier Rodr√≠guez-Barrios, Kenedith M√©ndez y Javier de la Hoz">
<meta name="description" content="Entrenamiento en flujo reproducible de an√°lisis con tidyverse aplicado a datos ecol√≥gicos">

<title>Manual de An√°lisis y Visualizaci√≥n de datos ecol√≥gicos y ambientales - Anvidea</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="1_datos_files/libs/clipboard/clipboard.min.js"></script>
<script src="1_datos_files/libs/quarto-html/quarto.js"></script>
<script src="1_datos_files/libs/quarto-html/popper.min.js"></script>
<script src="1_datos_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="1_datos_files/libs/quarto-html/anchor.min.js"></script>
<link href="1_datos_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="1_datos_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="1_datos_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="1_datos_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="1_datos_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<style>
    .quarto-title-block .quarto-title-banner {
      background: #2b8cbe;
    }
    </style>

<script src="1_datos_files/libs/kePrint-0.0.1/kePrint.js"></script>
<link href="1_datos_files/libs/lightable-0.0.1/lightable.css" rel="stylesheet">


<link rel="stylesheet" href="styles2_manus.css">
</head>

<body>

<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Manual de An√°lisis y Visualizaci√≥n de datos ecol√≥gicos y ambientales - Anvidea</h1>
            <p class="subtitle lead">Cap√≠tulo 1. Fundamentos de manipulaci√≥n de datos</p>
                  <div>
        <div class="description">
          Entrenamiento en flujo reproducible de an√°lisis con tidyverse aplicado a datos ecol√≥gicos
        </div>
      </div>
                </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Autor/a</div>
      <div class="quarto-title-meta-contents">
               <p>Javier Rodr√≠guez-Barrios, Kenedith M√©ndez y Javier de la Hoz </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Fecha de publicaci√≥n</div>
      <div class="quarto-title-meta-contents">
        <p class="date">25 de julio de 2025</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="page-columns page-rows-contents page-layout-article">
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Men√∫ flotante</h2>
   
  <ul>
  <li><a href="#capitulo-1.-fundamentos-de-manipulaci√≥n-de-datos" id="toc-capitulo-1.-fundamentos-de-manipulaci√≥n-de-datos" class="nav-link active" data-scroll-target="#capitulo-1.-fundamentos-de-manipulaci√≥n-de-datos">Capitulo 1. Fundamentos de manipulaci√≥n de datos</a>
  <ul>
  <li><a href="#introducci√≥n" id="toc-introducci√≥n" class="nav-link" data-scroll-target="#introducci√≥n"><strong>Introducci√≥n</strong></a></li>
  <li><a href="#objetivo" id="toc-objetivo" class="nav-link" data-scroll-target="#objetivo"><strong>Objetivo</strong></a></li>
  <li><a href="#contenido-del-cap√≠tulo" id="toc-contenido-del-cap√≠tulo" class="nav-link" data-scroll-target="#contenido-del-cap√≠tulo"><strong>Contenido del cap√≠tulo</strong></a>
  <ul>
  <li><a href="#lectura-de-bases-de-datos-y-cargar-paquetes" id="toc-lectura-de-bases-de-datos-y-cargar-paquetes" class="nav-link" data-scroll-target="#lectura-de-bases-de-datos-y-cargar-paquetes">Lectura de bases de datos y cargar paquetes</a></li>
  <li><a href="#selecci√≥n-y-filtrado" id="toc-selecci√≥n-y-filtrado" class="nav-link" data-scroll-target="#selecci√≥n-y-filtrado">1.1 Selecci√≥n y filtrado</a></li>
  <li><a href="#creaci√≥n-de-nuevas-variables" id="toc-creaci√≥n-de-nuevas-variables" class="nav-link" data-scroll-target="#creaci√≥n-de-nuevas-variables">1.2 Creaci√≥n de nuevas variables</a></li>
  <li><a href="#resumen-estad√≠stico-de-datos-agrupados" id="toc-resumen-estad√≠stico-de-datos-agrupados" class="nav-link" data-scroll-target="#resumen-estad√≠stico-de-datos-agrupados">1.3 Resumen estad√≠stico de datos agrupados</a></li>
  <li><a href="#transformaci√≥n-de-datos" id="toc-transformaci√≥n-de-datos" class="nav-link" data-scroll-target="#transformaci√≥n-de-datos">1.4 Transformaci√≥n de datos</a></li>
  <li><a href="#transposici√≥n-de-datos" id="toc-transposici√≥n-de-datos" class="nav-link" data-scroll-target="#transposici√≥n-de-datos">1.5 Transposici√≥n de datos</a></li>
  <li><a href="#uni√≥n-de-datos" id="toc-uni√≥n-de-datos" class="nav-link" data-scroll-target="#uni√≥n-de-datos">1.6 Uni√≥n de datos</a></li>
  <li><a href="#conversi√≥n-de-variables-categ√≥ricas" id="toc-conversi√≥n-de-variables-categ√≥ricas" class="nav-link" data-scroll-target="#conversi√≥n-de-variables-categ√≥ricas">1.6 Conversi√≥n de variables categ√≥ricas</a></li>
  <li><a href="#abreviar-nombres-de-grupos-biol√≥gicos" id="toc-abreviar-nombres-de-grupos-biol√≥gicos" class="nav-link" data-scroll-target="#abreviar-nombres-de-grupos-biol√≥gicos">1.8 Abreviar nombres de grupos biol√≥gicos</a></li>
  <li><a href="#seleccionar-los-5-taxones-m√°s-abundantes" id="toc-seleccionar-los-5-taxones-m√°s-abundantes" class="nav-link" data-scroll-target="#seleccionar-los-5-taxones-m√°s-abundantes">1.9 Seleccionar los 5 taxones m√°s abundantes</a></li>
  <li><a href="#visualizaci√≥n" id="toc-visualizaci√≥n" class="nav-link" data-scroll-target="#visualizaci√≥n">1.10 Visualizaci√≥n</a></li>
  <li><a href="#categorizar-una-variable-cont√≠nua" id="toc-categorizar-una-variable-cont√≠nua" class="nav-link" data-scroll-target="#categorizar-una-variable-cont√≠nua">1.11 Categorizar una variable cont√≠nua</a></li>
  <li><a href="#cuestionario" id="toc-cuestionario" class="nav-link" data-scroll-target="#cuestionario">Cuestionario</a></li>
  </ul></li>
  <li><a href="#a.-manejo-de-datos-biol√≥gicos-y-ambientales" id="toc-a.-manejo-de-datos-biol√≥gicos-y-ambientales" class="nav-link" data-scroll-target="#a.-manejo-de-datos-biol√≥gicos-y-ambientales">A. Manejo de datos biol√≥gicos y ambientales</a>
  <ul>
  <li><a href="#resumen" id="toc-resumen" class="nav-link" data-scroll-target="#resumen">Resumen</a></li>
  <li><a href="#instalaci√≥n-y-carga-de-paquetes" id="toc-instalaci√≥n-y-carga-de-paquetes" class="nav-link" data-scroll-target="#instalaci√≥n-y-carga-de-paquetes">Instalaci√≥n y carga de paquetes</a></li>
  <li><a href="#carga-y-exploraci√≥n-de-datos" id="toc-carga-y-exploraci√≥n-de-datos" class="nav-link" data-scroll-target="#carga-y-exploraci√≥n-de-datos">Carga y exploraci√≥n de datos</a></li>
  <li><a href="#selecci√≥n-y-filtrado-1" id="toc-selecci√≥n-y-filtrado-1" class="nav-link" data-scroll-target="#selecci√≥n-y-filtrado-1">1.1 Selecci√≥n y filtrado</a></li>
  <li><a href="#creaci√≥n-de-nuevas-variables-1" id="toc-creaci√≥n-de-nuevas-variables-1" class="nav-link" data-scroll-target="#creaci√≥n-de-nuevas-variables-1">1.2 Creaci√≥n de nuevas variables</a></li>
  <li><a href="#resumen-estad√≠stico-de-datos-agrupados-1" id="toc-resumen-estad√≠stico-de-datos-agrupados-1" class="nav-link" data-scroll-target="#resumen-estad√≠stico-de-datos-agrupados-1">1.3 Resumen estad√≠stico de datos agrupados</a></li>
  <li><a href="#transformaci√≥n-de-datos-1" id="toc-transformaci√≥n-de-datos-1" class="nav-link" data-scroll-target="#transformaci√≥n-de-datos-1">1.4 Transformaci√≥n de datos</a></li>
  <li><a href="#transposici√≥n-de-datos-1" id="toc-transposici√≥n-de-datos-1" class="nav-link" data-scroll-target="#transposici√≥n-de-datos-1">1.5 Transposici√≥n de datos</a></li>
  <li><a href="#uni√≥n-de-datos-1" id="toc-uni√≥n-de-datos-1" class="nav-link" data-scroll-target="#uni√≥n-de-datos-1">1.6 Uni√≥n de datos</a></li>
  <li><a href="#conversi√≥n-de-variables-a-factores" id="toc-conversi√≥n-de-variables-a-factores" class="nav-link" data-scroll-target="#conversi√≥n-de-variables-a-factores">1.6 Conversi√≥n de variables a factores</a></li>
  <li><a href="#abreviar-nombres-de-grupos-biol√≥gicos-1" id="toc-abreviar-nombres-de-grupos-biol√≥gicos-1" class="nav-link" data-scroll-target="#abreviar-nombres-de-grupos-biol√≥gicos-1">1.8 Abreviar nombres de grupos biol√≥gicos</a></li>
  <li><a href="#seleccionar-los-5-taxones-m√°s-abundantes-1" id="toc-seleccionar-los-5-taxones-m√°s-abundantes-1" class="nav-link" data-scroll-target="#seleccionar-los-5-taxones-m√°s-abundantes-1">1.9 Seleccionar los 5 taxones m√°s abundantes</a></li>
  <li><a href="#visualizaci√≥n-de-factores" id="toc-visualizaci√≥n-de-factores" class="nav-link" data-scroll-target="#visualizaci√≥n-de-factores">1.10 Visualizaci√≥n de factores</a></li>
  <li><a href="#categorizar-una-variable-cont√≠nua-1" id="toc-categorizar-una-variable-cont√≠nua-1" class="nav-link" data-scroll-target="#categorizar-una-variable-cont√≠nua-1">1.11 Categorizar una variable cont√≠nua</a>
  <ul>
  <li><a href="#a.-m√©todo-basado-en-cuantiles" id="toc-a.-m√©todo-basado-en-cuantiles" class="nav-link" data-scroll-target="#a.-m√©todo-basado-en-cuantiles">a.) M√©todo basado en cuantiles</a></li>
  <li><a href="#b.-m√©todo-basado-en-summary" id="toc-b.-m√©todo-basado-en-summary" class="nav-link" data-scroll-target="#b.-m√©todo-basado-en-summary">b.) M√©todo basado en <code>summary()</code></a></li>
  <li><a href="#c.-m√©todo-basado-en-summarise" id="toc-c.-m√©todo-basado-en-summarise" class="nav-link" data-scroll-target="#c.-m√©todo-basado-en-summarise">c.) M√©todo basado en <code>summarise()</code></a></li>
  </ul></li>
  </ul></li>
  <li><a href="#cuestionario-1" id="toc-cuestionario-1" class="nav-link" data-scroll-target="#cuestionario-1">üìù Cuestionario</a>
  <ul>
  <li><a href="#exploraci√≥n-de-datos" id="toc-exploraci√≥n-de-datos" class="nav-link" data-scroll-target="#exploraci√≥n-de-datos">1. Exploraci√≥n de datos</a></li>
  <li><a href="#filtrado-condicional" id="toc-filtrado-condicional" class="nav-link" data-scroll-target="#filtrado-condicional">2. Filtrado condicional</a></li>
  <li><a href="#creaci√≥n-de-variables" id="toc-creaci√≥n-de-variables" class="nav-link" data-scroll-target="#creaci√≥n-de-variables">3. Creaci√≥n de variables</a></li>
  <li><a href="#resumen-estad√≠stico" id="toc-resumen-estad√≠stico" class="nav-link" data-scroll-target="#resumen-estad√≠stico">4. Resumen estad√≠stico</a></li>
  <li><a href="#transformaci√≥n-de-datos-2" id="toc-transformaci√≥n-de-datos-2" class="nav-link" data-scroll-target="#transformaci√≥n-de-datos-2">5. Transformaci√≥n de datos</a></li>
  <li><a href="#visualizaci√≥n-de-una-relaci√≥n-de-variables" id="toc-visualizaci√≥n-de-una-relaci√≥n-de-variables" class="nav-link" data-scroll-target="#visualizaci√≥n-de-una-relaci√≥n-de-variables">6. Visualizaci√≥n de una relaci√≥n de variables</a></li>
  <li><a href="#visualizaci√≥n-de-una-variable-categorizada" id="toc-visualizaci√≥n-de-una-variable-categorizada" class="nav-link" data-scroll-target="#visualizaci√≥n-de-una-variable-categorizada">7. Visualizaci√≥n de una variable categorizada</a>
  <ul>
  <li><a href="#paso-1-categorizar-la-temperatura" id="toc-paso-1-categorizar-la-temperatura" class="nav-link" data-scroll-target="#paso-1-categorizar-la-temperatura">Paso 1: Categorizar la Temperatura</a></li>
  <li><a href="#paso-2-visualizar-la-relaci√≥n-entre-temperatura-y-abundancia" id="toc-paso-2-visualizar-la-relaci√≥n-entre-temperatura-y-abundancia" class="nav-link" data-scroll-target="#paso-2-visualizar-la-relaci√≥n-entre-temperatura-y-abundancia">Paso 2: Visualizar la Relaci√≥n entre Temperatura y Abundancia</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#b.-fundamentos-de-manipulaci√≥n-de-datos-caso-invertebrados" id="toc-b.-fundamentos-de-manipulaci√≥n-de-datos-caso-invertebrados" class="nav-link" data-scroll-target="#b.-fundamentos-de-manipulaci√≥n-de-datos-caso-invertebrados">B. Fundamentos de manipulaci√≥n de datos (Caso invertebrados)</a>
  <ul>
  <li><a href="#resumen-1" id="toc-resumen-1" class="nav-link" data-scroll-target="#resumen-1">Resumen</a></li>
  <li><a href="#lectura-de-bases-de-datos-y-cargar-paquetes-1" id="toc-lectura-de-bases-de-datos-y-cargar-paquetes-1" class="nav-link" data-scroll-target="#lectura-de-bases-de-datos-y-cargar-paquetes-1">Lectura de bases de datos y cargar paquetes</a></li>
  <li><a href="#selecci√≥n-y-filtrado-2" id="toc-selecci√≥n-y-filtrado-2" class="nav-link" data-scroll-target="#selecci√≥n-y-filtrado-2">1.1 Selecci√≥n y filtrado</a></li>
  <li><a href="#creaci√≥n-de-nuevas-variables-2" id="toc-creaci√≥n-de-nuevas-variables-2" class="nav-link" data-scroll-target="#creaci√≥n-de-nuevas-variables-2">1.2 Creaci√≥n de nuevas variables</a></li>
  <li><a href="#resumen-estad√≠stico-de-datos-agrupados-2" id="toc-resumen-estad√≠stico-de-datos-agrupados-2" class="nav-link" data-scroll-target="#resumen-estad√≠stico-de-datos-agrupados-2">1.3 Resumen estad√≠stico de datos agrupados</a></li>
  <li><a href="#transformaci√≥n-de-datos-3" id="toc-transformaci√≥n-de-datos-3" class="nav-link" data-scroll-target="#transformaci√≥n-de-datos-3">1.4 Transformaci√≥n de datos</a></li>
  <li><a href="#transposici√≥n-de-datos-2" id="toc-transposici√≥n-de-datos-2" class="nav-link" data-scroll-target="#transposici√≥n-de-datos-2">1.5 Transposici√≥n de datos</a></li>
  <li><a href="#uni√≥n-de-datos-2" id="toc-uni√≥n-de-datos-2" class="nav-link" data-scroll-target="#uni√≥n-de-datos-2">1.6 Uni√≥n de datos</a></li>
  <li><a href="#conversi√≥n-de-variables-categ√≥ricas-1" id="toc-conversi√≥n-de-variables-categ√≥ricas-1" class="nav-link" data-scroll-target="#conversi√≥n-de-variables-categ√≥ricas-1">1.6 Conversi√≥n de variables categ√≥ricas</a></li>
  <li><a href="#abreviar-nombres-de-grupos-biol√≥gicos-2" id="toc-abreviar-nombres-de-grupos-biol√≥gicos-2" class="nav-link" data-scroll-target="#abreviar-nombres-de-grupos-biol√≥gicos-2">1.8 Abreviar nombres de grupos biol√≥gicos</a></li>
  <li><a href="#seleccionar-los-5-taxones-m√°s-abundantes-2" id="toc-seleccionar-los-5-taxones-m√°s-abundantes-2" class="nav-link" data-scroll-target="#seleccionar-los-5-taxones-m√°s-abundantes-2">1.9 Seleccionar los 5 taxones m√°s abundantes</a></li>
  <li><a href="#visualizaci√≥n-1" id="toc-visualizaci√≥n-1" class="nav-link" data-scroll-target="#visualizaci√≥n-1">1.10 Visualizaci√≥n</a></li>
  <li><a href="#categorizar-una-variable-continua" id="toc-categorizar-una-variable-continua" class="nav-link" data-scroll-target="#categorizar-una-variable-continua">1.11 Categorizar una variable continua</a></li>
  </ul></li>
  <li><a href="#cuestionario-2" id="toc-cuestionario-2" class="nav-link" data-scroll-target="#cuestionario-2">üìù Cuestionario</a>
  <ul>
  <li><a href="#qu√©-estaci√≥n-present√≥-mayor-abundancia-total-de-√≥rdenes" id="toc-qu√©-estaci√≥n-present√≥-mayor-abundancia-total-de-√≥rdenes" class="nav-link" data-scroll-target="#qu√©-estaci√≥n-present√≥-mayor-abundancia-total-de-√≥rdenes">1. ¬øQu√© estaci√≥n present√≥ mayor abundancia total de √≥rdenes?</a></li>
  <li><a href="#qu√©-familia-present√≥-mayor-abundancia-en-taxones2" id="toc-qu√©-familia-present√≥-mayor-abundancia-en-taxones2" class="nav-link" data-scroll-target="#qu√©-familia-present√≥-mayor-abundancia-en-taxones2">2. ¬øQu√© familia present√≥ mayor abundancia en <code>Taxones2</code>?</a></li>
  <li><a href="#qu√©-patr√≥n-se-observa-en-el-gr√°fico-de-√≥rdenes-m√°s-abundantes" id="toc-qu√©-patr√≥n-se-observa-en-el-gr√°fico-de-√≥rdenes-m√°s-abundantes" class="nav-link" data-scroll-target="#qu√©-patr√≥n-se-observa-en-el-gr√°fico-de-√≥rdenes-m√°s-abundantes">3. ¬øQu√© patr√≥n se observa en el gr√°fico de √≥rdenes m√°s abundantes?</a></li>
  <li><a href="#cu√°l-fue-el-valor-de-ox√≠geno-disuelto-m√°s-alto-en-qu√©-estaci√≥n" id="toc-cu√°l-fue-el-valor-de-ox√≠geno-disuelto-m√°s-alto-en-qu√©-estaci√≥n" class="nav-link" data-scroll-target="#cu√°l-fue-el-valor-de-ox√≠geno-disuelto-m√°s-alto-en-qu√©-estaci√≥n">4. ¬øCu√°l fue el valor de ox√≠geno disuelto m√°s alto? ¬øen qu√© estaci√≥n?</a></li>
  <li><a href="#qu√©-estaci√≥n-tuvo-menor-concentraci√≥n-de-ox√≠geno-disuelto" id="toc-qu√©-estaci√≥n-tuvo-menor-concentraci√≥n-de-ox√≠geno-disuelto" class="nav-link" data-scroll-target="#qu√©-estaci√≥n-tuvo-menor-concentraci√≥n-de-ox√≠geno-disuelto">5. ¬øQu√© estaci√≥n tuvo menor concentraci√≥n de ox√≠geno disuelto?</a></li>
  <li><a href="#c√≥mo-cambiar√≠an-los-resultados-si-se-analiza-solo-arimaca-y-caracoli" id="toc-c√≥mo-cambiar√≠an-los-resultados-si-se-analiza-solo-arimaca-y-caracoli" class="nav-link" data-scroll-target="#c√≥mo-cambiar√≠an-los-resultados-si-se-analiza-solo-arimaca-y-caracoli">6. ¬øC√≥mo cambiar√≠an los resultados si se analiza solo Arimaca y Caracoli?</a></li>
  <li><a href="#qu√©-sitio-present√≥-mayor-conductividad" id="toc-qu√©-sitio-present√≥-mayor-conductividad" class="nav-link" data-scroll-target="#qu√©-sitio-present√≥-mayor-conductividad">7 ¬øQu√© sitio present√≥ mayor conductividad?</a></li>
  </ul></li>
  <li><a href="#conclusi√≥n" id="toc-conclusi√≥n" class="nav-link" data-scroll-target="#conclusi√≥n">Conclusi√≥n</a></li>
  </ul></li>
  </ul>
</nav>
</div>
<main class="content quarto-banner-title-block" id="quarto-document-content">




<hr>
<section id="capitulo-1.-fundamentos-de-manipulaci√≥n-de-datos" class="level1">
<h1>Capitulo 1. Fundamentos de manipulaci√≥n de datos</h1>
<section id="introducci√≥n" class="level3">
<h3 class="anchored" data-anchor-id="introducci√≥n"><strong>Introducci√≥n</strong></h3>
<p>Este cap√≠tulo tiene como prop√≥sito guiarte en la exploraci√≥n de t√©cnicas fundamentales de manipulaci√≥n de datos ecol√≥gicos usando el ecosistema <code>tidyverse</code> de R.</p>
<p>Trabajaremos con dos conjuntos de datos reales: el primero proviene de muestreos de plancton estuarino y el segundo de macroinvertebrados acu√°ticos del r√≠o Gaira. Ambos ejemplos ilustran c√≥mo seleccionar, transformar, reorganizar y unir datos con un prop√≥sito ecol√≥gico claro.</p>
<p>A diferencia de un enfoque gen√©rico de ciencia de datos, aqu√≠ no solo aprender√°s a manipular tablas, sino a darles sentido ecol√≥gico: ¬øqu√© especies dominan?, ¬øc√≥mo var√≠a su abundancia seg√∫n el ambiente?, ¬øc√≥mo se conectan los datos bi√≥ticos y abi√≥ticos?</p>
<p>Este cap√≠tulo sienta las bases para todo el libro, por lo que cada ejercicio ha sido dise√±ado para entrenarte en una forma de pensar y actuar reproducible, cr√≠tica y coherente con el an√°lisis ambiental y ecol√≥gico moderno.</p>
<p>En los ecosistemas, cada organismo es un dato esperando ser comprendido. Desde el plancton flotando libre en una columna de agua, hasta los macroinvertebrados que habitan el lecho de un r√≠o, todos son piezas de un rompecabezas ecol√≥gico que cobra sentido cuando sabemos organizar y analizar la informaci√≥n que nos brindan.</p>
<p>Este cap√≠tulo introduce los fundamentos esenciales para manipular bases de datos ecol√≥gicas y ambientales mediante el lenguaje de programaci√≥n R y el enfoque del paquete <code>tidyverse</code>. La premisa es simple pero poderosa: si aprendemos a ‚Äúconversar‚Äù con los datos, tambi√©n podremos escuchar lo que los ecosistemas nos est√°n diciendo.</p>
<p>Trabajaremos con dos casos reales: plancton estuarino y macroinvertebrados del r√≠o Gaira, mostrando c√≥mo seleccionar, transformar, integrar y visualizar datos ecol√≥gicos para convertirlos en conocimiento. M√°s all√° de la t√©cnica, el prop√≥sito es generar una mirada cr√≠tica sobre lo que nos cuentan los datos sobre la biodiversidad y el ambiente que habitamos.</p>
</section>
<section id="objetivo" class="level3">
<h3 class="anchored" data-anchor-id="objetivo"><strong>Objetivo</strong></h3>
<p>Entrenar en un <em>flujo reproducible de an√°lisis</em> con tidyverse, aplicable a datos ecol√≥gicos.</p>
<hr>
</section>
<section id="contenido-del-cap√≠tulo" class="level3">
<h3 class="anchored" data-anchor-id="contenido-del-cap√≠tulo"><strong>Contenido del cap√≠tulo</strong></h3>
<p>Se realizar√°n dos ejercicios (A: datos de plancton estudrino, B: datos macroinvertebrados de r√≠os), cuyos ejercicios tendr√°n la siguiente secuencia de ejercicios.</p>
<section id="lectura-de-bases-de-datos-y-cargar-paquetes" class="level5">
<h5 class="anchored" data-anchor-id="lectura-de-bases-de-datos-y-cargar-paquetes">Lectura de bases de datos y cargar paquetes</h5>
</section>
<section id="selecci√≥n-y-filtrado" class="level5">
<h5 class="anchored" data-anchor-id="selecci√≥n-y-filtrado">1.1 Selecci√≥n y filtrado</h5>
</section>
<section id="creaci√≥n-de-nuevas-variables" class="level5">
<h5 class="anchored" data-anchor-id="creaci√≥n-de-nuevas-variables">1.2 Creaci√≥n de nuevas variables</h5>
</section>
<section id="resumen-estad√≠stico-de-datos-agrupados" class="level5">
<h5 class="anchored" data-anchor-id="resumen-estad√≠stico-de-datos-agrupados">1.3 Resumen estad√≠stico de datos agrupados</h5>
</section>
<section id="transformaci√≥n-de-datos" class="level5">
<h5 class="anchored" data-anchor-id="transformaci√≥n-de-datos">1.4 Transformaci√≥n de datos</h5>
</section>
<section id="transposici√≥n-de-datos" class="level5">
<h5 class="anchored" data-anchor-id="transposici√≥n-de-datos">1.5 Transposici√≥n de datos</h5>
</section>
<section id="uni√≥n-de-datos" class="level5">
<h5 class="anchored" data-anchor-id="uni√≥n-de-datos">1.6 Uni√≥n de datos</h5>
</section>
<section id="conversi√≥n-de-variables-categ√≥ricas" class="level5">
<h5 class="anchored" data-anchor-id="conversi√≥n-de-variables-categ√≥ricas">1.6 Conversi√≥n de variables categ√≥ricas</h5>
</section>
<section id="abreviar-nombres-de-grupos-biol√≥gicos" class="level5">
<h5 class="anchored" data-anchor-id="abreviar-nombres-de-grupos-biol√≥gicos">1.8 Abreviar nombres de grupos biol√≥gicos</h5>
</section>
<section id="seleccionar-los-5-taxones-m√°s-abundantes" class="level5">
<h5 class="anchored" data-anchor-id="seleccionar-los-5-taxones-m√°s-abundantes">1.9 Seleccionar los 5 taxones m√°s abundantes</h5>
</section>
<section id="visualizaci√≥n" class="level5">
<h5 class="anchored" data-anchor-id="visualizaci√≥n">1.10 Visualizaci√≥n</h5>
</section>
<section id="categorizar-una-variable-cont√≠nua" class="level5">
<h5 class="anchored" data-anchor-id="categorizar-una-variable-cont√≠nua">1.11 Categorizar una variable cont√≠nua</h5>
</section>
<section id="cuestionario" class="level5">
<h5 class="anchored" data-anchor-id="cuestionario">Cuestionario</h5>
<hr>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
üìã Instrucciones
</div>
</div>
<div class="callout-body-container callout-body">
<p><strong>Instrucciones</strong>: Primer ejercicio en donde se contextualiza a cada procedimiento realizado, usando a la sintaxis de tidyverse.</p>
</div>
</div>
<hr>
</section>
</section>
<section id="a.-manejo-de-datos-biol√≥gicos-y-ambientales" class="level2">
<h2 class="anchored" data-anchor-id="a.-manejo-de-datos-biol√≥gicos-y-ambientales">A. Manejo de datos biol√≥gicos y ambientales</h2>
<div class="quarto-figure quarto-figure-left">
<figure class="figure">
<p><img src="http://news.bbcimg.co.uk/media/images/52221000/jpg/_52221477_live&amp;deadcopepods2.jpg" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Tomado de: Earth News</figcaption><p></p>
</figure>
</div>
<hr>
<section id="resumen" class="level4">
<h4 class="anchored" data-anchor-id="resumen">Resumen</h4>
<p>El presente taller tiene por objeto, brindar pautas generales para el manejo y visualizaci√≥n de datos biol√≥gicos en el lenguaje <code>tidyverse</code> de R. Se realizan algunas operaciones generales usando una <strong>base de datos de plancton</strong>, que incorpora variables biol√≥gicas y ambientales. Se realizar√°n ejercicios con los comandos generales de <strong>tidyverse</strong> en el manejo y visualizaci√≥n de datos, utilizando como ejemplo la base de datos de plancton en un estuario de Colombia (<strong>biol</strong>).</p>
<p>La base de datos <strong>‚ÄúRiqueza‚Äù</strong> tiene 498 registros y 8 columnas, incluyendo:</p>
<ul>
<li><strong>Variables categ√≥ricas o factores:</strong>
<ul>
<li><code>Station</code> (Estaci√≥n, num√©rica pero categ√≥rica en contexto)</li>
<li><code>Size</code> (Tama√±os de malla del plancton)</li>
<li><code>Layers</code> (Capas o estratos en el gradiente de profundidad)</li>
<li><code>Groups</code> (Grupos de plancton)</li>
</ul></li>
<li><strong>Variables cuantitativas:</strong>
<ul>
<li><code>Abundance</code> (Abundancia de los grupos de plancton)</li>
<li><code>Temperature</code> (Temperatura del agua)</li>
<li><code>Salinity</code> (Salinidad del agua)</li>
<li><code>Density</code> (Densidad de organismos)</li>
</ul></li>
</ul>
</section>
<section id="instalaci√≥n-y-carga-de-paquetes" class="level4">
<h4 class="anchored" data-anchor-id="instalaci√≥n-y-carga-de-paquetes">Instalaci√≥n y carga de paquetes</h4>
<p>Para trabajar con <strong>tidyverse</strong>, primero debemos instalar y cargar los paquetes requeridos.</p>
<div class="cell">
<details>
<summary>C√≥digo</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># install.packages("tidyverse") # Descomentar si no est√° instalado</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readxl)</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(kableExtra)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="carga-y-exploraci√≥n-de-datos" class="level4">
<h4 class="anchored" data-anchor-id="carga-y-exploraci√≥n-de-datos">Carga y exploraci√≥n de datos</h4>
<p>Utilizamos <code>glimpse</code> para ver la estructura general de la base de datos y <code>summary</code> para obtener estad√≠sticas descriptivas.</p>
<div class="cell">
<details>
<summary>C√≥digo</summary>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Cargar datos desde Excel. Aseg√∫rate de que 'plancton.xlsx' est√© en el directorio correcto.</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>biol <span class="ot">&lt;-</span> <span class="fu">read_xlsx</span>(<span class="st">"plancton.xlsx"</span>, <span class="at">sheet =</span> <span class="st">"Riqueza"</span>)</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="co"># `glimpse()` proporciona un resumen conciso de la estructura del dataframe,</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="co"># mostrando el tipo de cada columna y las primeras observaciones.</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a><span class="co"># `summary()` ofrece estad√≠sticas descriptivas b√°sicas para cada columna.</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a><span class="co"># glimpse(biol)</span></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a><span class="co"># summary(biol)</span></span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="selecci√≥n-y-filtrado-1" class="level4">
<h4 class="anchored" data-anchor-id="selecci√≥n-y-filtrado-1">1.1 Selecci√≥n y filtrado</h4>
<p>En ecolog√≠a y ciencias ambientales, el trabajo con datos suele implicar hojas de c√°lculo extensas, con muchas variables medidas en campo o en laboratorio. No todas esas variables ser√°n relevantes para un an√°lisis determinado. Algunas deben excluirse porque no aportan a la hip√≥tesis; otras porque presentan errores sistem√°ticos, o simplemente porque queremos enfocarnos en un grupo funcional espec√≠fico, como insectos acu√°ticos o cop√©podos.</p>
<p>Para esas decisiones, el paquete <code>tidyverse</code> ofrece dos funciones fundamentales:</p>
<ul>
<li><code>select()</code> permite elegir solo las columnas que nos interesan. Por ejemplo, si estudiamos la respuesta de <em>Chironomidae</em> y <em>Baetidae</em> a la calidad del agua, podemos quedarnos solo con esos grupos taxon√≥micos.</li>
<li><code>filter()</code> nos permite conservar solo las filas que cumplen ciertas condiciones. Podemos filtrar, por ejemplo, solo las estaciones aguas abajo o las muestras tomadas en √©poca seca.</li>
</ul>
<p>Ambas funciones ayudan a que nuestro an√°lisis sea m√°s limpio, reproducible y enfocado en los objetivos ecol√≥gicos que nos planteamos.</p>
<div class="cell">
<details>
<summary>C√≥digo</summary>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Seleccionar variables clave: `select()` permite elegir columnas espec√≠ficas por su nombre.</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Aqu√≠ seleccionamos las columnas relevantes para nuestro an√°lisis inicial.</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>datos_select <span class="ot">&lt;-</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>  biol <span class="sc">%&gt;%</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Station, Size, Layers, Abundance, Temperature, Salinity)</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Validar distribuci√≥n: `head()` muestra las primeras filas del dataframe.</span></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a><span class="co"># `kbl()` y `kable_classic()` se usan para formatear la tabla de salida de forma legible en Quarto.</span></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(datos_select, <span class="dv">4</span>) <span class="sc">%&gt;%</span></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kbl</span>() <span class="sc">%&gt;%</span></span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_classic</span>(<span class="at">full_width =</span> F)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">

<table class=" lightable-classic" style="font-family: &quot;Arial Narrow&quot;, &quot;Source Sans Pro&quot;, sans-serif; width: auto !important; margin-left: auto; margin-right: auto;">
 <thead>
  <tr>
   <th style="text-align:right;"> Station </th>
   <th style="text-align:left;"> Size </th>
   <th style="text-align:left;"> Layers </th>
   <th style="text-align:right;"> Abundance </th>
   <th style="text-align:right;"> Temperature </th>
   <th style="text-align:right;"> Salinity </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:right;"> 2 </td>
   <td style="text-align:left;"> 250 Œºm </td>
   <td style="text-align:left;"> Surface </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 30.29749 </td>
   <td style="text-align:right;"> 34.69981 </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 2 </td>
   <td style="text-align:left;"> 250 Œºm </td>
   <td style="text-align:left;"> Surface </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 29.40959 </td>
   <td style="text-align:right;"> 25.83323 </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 2 </td>
   <td style="text-align:left;"> 250 Œºm </td>
   <td style="text-align:left;"> Surface </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 29.59008 </td>
   <td style="text-align:right;"> 12.38513 </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 2 </td>
   <td style="text-align:left;"> 250 Œºm </td>
   <td style="text-align:left;"> Surface </td>
   <td style="text-align:right;"> 32 </td>
   <td style="text-align:right;"> 30.29749 </td>
   <td style="text-align:right;"> 34.69981 </td>
  </tr>
</tbody>
</table>

</div>
</div>
<div class="cell">
<details>
<summary>C√≥digo</summary>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Filtrar datos por una condici√≥n espec√≠fica: `filter()` selecciona filas bas√°ndose en condiciones l√≥gicas.</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="co"># En este caso, filtramos las observaciones donde la temperatura es mayor a 28¬∞C.</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>datos_filtro <span class="ot">=</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>  biol <span class="sc">%&gt;%</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Temperature <span class="sc">&gt;</span> <span class="dv">28</span>)</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Validar distribuci√≥n: Mostramos las primeras filas del dataframe filtrado para verificar el resultado.</span></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(datos_filtro, <span class="dv">4</span>) <span class="sc">%&gt;%</span></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kbl</span>() <span class="sc">%&gt;%</span></span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_classic</span>(<span class="at">full_width =</span> F)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">

<table class=" lightable-classic" style="font-family: &quot;Arial Narrow&quot;, &quot;Source Sans Pro&quot;, sans-serif; width: auto !important; margin-left: auto; margin-right: auto;">
 <thead>
  <tr>
   <th style="text-align:right;"> Station </th>
   <th style="text-align:left;"> Size </th>
   <th style="text-align:left;"> Layers </th>
   <th style="text-align:left;"> Groups </th>
   <th style="text-align:right;"> Abundance </th>
   <th style="text-align:right;"> Temperature </th>
   <th style="text-align:right;"> Salinity </th>
   <th style="text-align:right;"> Density </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:right;"> 2 </td>
   <td style="text-align:left;"> 250 Œºm </td>
   <td style="text-align:left;"> Surface </td>
   <td style="text-align:left;"> Quetognatos </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 30.29749 </td>
   <td style="text-align:right;"> 34.69981 </td>
   <td style="text-align:right;"> 21.417828 </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 2 </td>
   <td style="text-align:left;"> 250 Œºm </td>
   <td style="text-align:left;"> Surface </td>
   <td style="text-align:left;"> Sergestidae </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 29.40959 </td>
   <td style="text-align:right;"> 25.83323 </td>
   <td style="text-align:right;"> 15.085254 </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 2 </td>
   <td style="text-align:left;"> 250 Œºm </td>
   <td style="text-align:left;"> Surface </td>
   <td style="text-align:left;"> Luciferidae </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 29.59008 </td>
   <td style="text-align:right;"> 12.38513 </td>
   <td style="text-align:right;"> 5.729643 </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 2 </td>
   <td style="text-align:left;"> 250 Œºm </td>
   <td style="text-align:left;"> Surface </td>
   <td style="text-align:left;"> Calanoida </td>
   <td style="text-align:right;"> 32 </td>
   <td style="text-align:right;"> 30.29749 </td>
   <td style="text-align:right;"> 34.69981 </td>
   <td style="text-align:right;"> 21.417828 </td>
  </tr>
</tbody>
</table>

</div>
</div>
<div class="callout-tip callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
üí° Tip Ecol√≥gico
</div>
</div>
<div class="callout-body-container callout-body">
<p>Cuando filtramos por temperatura &gt; 28¬∞C en ecosistemas estuarinos, estamos seleccionando condiciones que pueden indicar estr√©s t√©rmico para organismos sensibles a niveles altos de temperatura.</p>
</div>
</div>
</section>
<section id="creaci√≥n-de-nuevas-variables-1" class="level4">
<h4 class="anchored" data-anchor-id="creaci√≥n-de-nuevas-variables-1">1.2 Creaci√≥n de nuevas variables</h4>
<p>En ecolog√≠a, a menudo necesitamos ir m√°s all√° de los datos crudos para entender procesos complejos. La <strong>creaci√≥n de nuevas variables</strong> es como sintetizar nuevos conocimientos a partir de observaciones existentes. La funci√≥n <code>mutate</code> de <code>tidyverse</code> es nuestra herramienta para esta alquimia de datos. Nos permite generar columnas derivadas, como calcular la relaci√≥n entre la abundancia de plancton y la temperatura del agua. Esta nueva variable podr√≠a revelar patrones que no son evidentes al observar las variables por separado, ofreciendo una perspectiva m√°s profunda sobre c√≥mo los organismos responden a su entorno f√≠sico. Es una forma de enriquecer nuestros datos, transform√°ndolos en informaci√≥n m√°s significativa y relevante para las preguntas ecol√≥gicas que nos planteamos.</p>
<p><code>mutate</code> se usa para generar nuevas variables derivadas de otras columnas.</p>
<div class="cell">
<details>
<summary>C√≥digo</summary>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># o modificar existentes. Aqu√≠ creamos `rel_Ab_Temp` dividiendo `Abundance` por `Temperature`.</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>biol_rel <span class="ot">=</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>  biol <span class="sc">%&gt;%</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">rel_Ab_Temp =</span> Abundance <span class="sc">/</span> Temperature)</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Validar distribuci√≥n: Mostramos las primeras filas del dataframe con la nueva variable.</span></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(biol_rel, <span class="dv">4</span>) <span class="sc">%&gt;%</span></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kbl</span>() <span class="sc">%&gt;%</span></span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_classic</span>(<span class="at">full_width =</span> F)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">

<table class=" lightable-classic" style="font-family: &quot;Arial Narrow&quot;, &quot;Source Sans Pro&quot;, sans-serif; width: auto !important; margin-left: auto; margin-right: auto;">
 <thead>
  <tr>
   <th style="text-align:right;"> Station </th>
   <th style="text-align:left;"> Size </th>
   <th style="text-align:left;"> Layers </th>
   <th style="text-align:left;"> Groups </th>
   <th style="text-align:right;"> Abundance </th>
   <th style="text-align:right;"> Temperature </th>
   <th style="text-align:right;"> Salinity </th>
   <th style="text-align:right;"> Density </th>
   <th style="text-align:right;"> rel_Ab_Temp </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:right;"> 2 </td>
   <td style="text-align:left;"> 250 Œºm </td>
   <td style="text-align:left;"> Surface </td>
   <td style="text-align:left;"> Quetognatos </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 30.29749 </td>
   <td style="text-align:right;"> 34.69981 </td>
   <td style="text-align:right;"> 21.417828 </td>
   <td style="text-align:right;"> 0.000000 </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 2 </td>
   <td style="text-align:left;"> 250 Œºm </td>
   <td style="text-align:left;"> Surface </td>
   <td style="text-align:left;"> Sergestidae </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 29.40959 </td>
   <td style="text-align:right;"> 25.83323 </td>
   <td style="text-align:right;"> 15.085254 </td>
   <td style="text-align:right;"> 0.000000 </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 2 </td>
   <td style="text-align:left;"> 250 Œºm </td>
   <td style="text-align:left;"> Surface </td>
   <td style="text-align:left;"> Luciferidae </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 29.59008 </td>
   <td style="text-align:right;"> 12.38513 </td>
   <td style="text-align:right;"> 5.729643 </td>
   <td style="text-align:right;"> 0.000000 </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 2 </td>
   <td style="text-align:left;"> 250 Œºm </td>
   <td style="text-align:left;"> Surface </td>
   <td style="text-align:left;"> Calanoida </td>
   <td style="text-align:right;"> 32 </td>
   <td style="text-align:right;"> 30.29749 </td>
   <td style="text-align:right;"> 34.69981 </td>
   <td style="text-align:right;"> 21.417828 </td>
   <td style="text-align:right;"> 1.056193 </td>
  </tr>
</tbody>
</table>

</div>
</div>
</section>
<section id="resumen-estad√≠stico-de-datos-agrupados-1" class="level4">
<h4 class="anchored" data-anchor-id="resumen-estad√≠stico-de-datos-agrupados-1">1.3 Resumen estad√≠stico de datos agrupados</h4>
<p>En el estudio de ecosistemas, los datos rara vez se presentan de forma aislada. La capacidad de <strong>resumir datos agrupados</strong> es fundamental para identificar patrones y tendencias en diferentes categor√≠as, como estaciones de muestreo o tama√±os de organismos. <code>group_by</code> y <code>summarise</code> de <code>tidyverse</code> act√∫an como nuestras lupas estad√≠sticas, permiti√©ndonos consolidar grandes vol√∫menes de informaci√≥n en m√©tricas clave como medias, desviaciones est√°ndar o varianzas. Esto es vital para comparar, por ejemplo, la abundancia promedio de plancton entre distintas estaciones de un estuario o la variabilidad de la salinidad en diferentes capas de agua. Al agrupar y resumir, transformamos datos individuales en indicadores ecol√≥gicos que nos ayudan a comprender la estructura y funci√≥n de los ecosistemas.</p>
<p><code>group_by</code> permite agrupar datos seg√∫n categor√≠as para luego aplicar funciones resumen como <code>mean()</code>, <code>sd()</code>, ‚Ä¶.</p>
<div class="cell">
<details>
<summary>C√≥digo</summary>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>biol <span class="ot">=</span> <span class="fu">read_xlsx</span>(<span class="st">"plancton.xlsx"</span>, <span class="at">sheet =</span> <span class="st">"Riqueza"</span>)</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Convertir variables a factores: Es crucial para el an√°lisis categ√≥rico.</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a><span class="co"># `as.factor()` transforma las columnas num√©ricas en factores para que R las trate como categor√≠as.</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>biol<span class="sc">$</span>Station <span class="ot">=</span> <span class="fu">as.factor</span>(biol<span class="sc">$</span>Station)</span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>biol<span class="sc">$</span>Size <span class="ot">=</span> <span class="fu">as.factor</span>(biol<span class="sc">$</span>Size)</span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Resumen estad√≠stico de un factor "datos_resumidos" por estaciones:</span></span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a><span class="co"># `group_by()` agrupa los datos por una o m√°s variables categ√≥ricas (Station, Size).</span></span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a><span class="co"># `summarise()` calcula estad√≠sticas resumen para cada grupo.</span></span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a><span class="co"># `mean(Abundance, na.rm= TRUE)` calcula la media de abundancia, ignorando valores NA.</span></span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a><span class="co"># `sd()` calcula la desviaci√≥n est√°ndar, `var()` la varianza, y `n()` el n√∫mero de observaciones en cada grupo.</span></span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a>datos_resumidos <span class="ot">=</span></span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true" tabindex="-1"></a>  biol <span class="sc">%&gt;%</span>  </span>
<span id="cb6-16"><a href="#cb6-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Station, Size) <span class="sc">%&gt;%</span> </span>
<span id="cb6-17"><a href="#cb6-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span> (<span class="at">datos.m  =</span> <span class="fu">mean</span>(Abundance, <span class="at">na.rm=</span> <span class="cn">TRUE</span>),  <span class="co"># Medias</span></span>
<span id="cb6-18"><a href="#cb6-18" aria-hidden="true" tabindex="-1"></a>             <span class="at">datos.de =</span> <span class="fu">sd</span>(Abundance, <span class="at">na.rm=</span> <span class="cn">TRUE</span>),    <span class="co"># Desviaciones</span></span>
<span id="cb6-19"><a href="#cb6-19" aria-hidden="true" tabindex="-1"></a>             <span class="at">datos.var=</span> <span class="fu">var</span>(Abundance, <span class="at">na.rm=</span> <span class="cn">TRUE</span>),   <span class="co"># Varianzas</span></span>
<span id="cb6-20"><a href="#cb6-20" aria-hidden="true" tabindex="-1"></a>             <span class="at">datos.n  =</span> <span class="fu">n</span>())              <span class="co"># Tama√±o de la muestra</span></span>
<span id="cb6-21"><a href="#cb6-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-22"><a href="#cb6-22" aria-hidden="true" tabindex="-1"></a><span class="co"># Validar distribuci√≥n: Muestra las primeras filas de la tabla resumida.</span></span>
<span id="cb6-23"><a href="#cb6-23" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(datos_resumidos, <span class="dv">4</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb6-24"><a href="#cb6-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kbl</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb6-25"><a href="#cb6-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_classic</span>(<span class="at">full_width =</span> F)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">

<table class=" lightable-classic" style="font-family: &quot;Arial Narrow&quot;, &quot;Source Sans Pro&quot;, sans-serif; width: auto !important; margin-left: auto; margin-right: auto;">
 <thead>
  <tr>
   <th style="text-align:left;"> Station </th>
   <th style="text-align:left;"> Size </th>
   <th style="text-align:right;"> datos.m </th>
   <th style="text-align:right;"> datos.de </th>
   <th style="text-align:right;"> datos.var </th>
   <th style="text-align:right;"> datos.n </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;"> 2 </td>
   <td style="text-align:left;"> 250 Œºm </td>
   <td style="text-align:right;"> 409.3617 </td>
   <td style="text-align:right;"> 1335.568 </td>
   <td style="text-align:right;"> 1783742 </td>
   <td style="text-align:right;"> 47 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> 2 </td>
   <td style="text-align:left;"> 500 Œºm </td>
   <td style="text-align:right;"> 309.1944 </td>
   <td style="text-align:right;"> 1777.470 </td>
   <td style="text-align:right;"> 3159399 </td>
   <td style="text-align:right;"> 36 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> 4 </td>
   <td style="text-align:left;"> 250 Œºm </td>
   <td style="text-align:right;"> 340.7872 </td>
   <td style="text-align:right;"> 1283.447 </td>
   <td style="text-align:right;"> 1647237 </td>
   <td style="text-align:right;"> 47 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> 4 </td>
   <td style="text-align:left;"> 500 Œºm </td>
   <td style="text-align:right;"> 265.6944 </td>
   <td style="text-align:right;"> 1545.394 </td>
   <td style="text-align:right;"> 2388243 </td>
   <td style="text-align:right;"> 36 </td>
  </tr>
</tbody>
</table>

</div>
</div>
<p>Agrupamos los datos por <code>Station</code>, <code>Size</code> y <code>Layers</code> y calculamos estad√≠sticas descriptivas clave como la temperatura, salinidad, densidad y la abundancia total. Esto permite obtener un resumen general de las condiciones ambientales y biol√≥gicas en diferentes estaciones y capas de muestreo.</p>
<div class="cell">
<details>
<summary>C√≥digo</summary>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Resumen estad√≠stico de dos factores "datos_resumidos1":</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Agrupamos por `Station`, `Size` y `Layers` para un an√°lisis m√°s granular.</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="co"># `reframe()` es similar a `summarise()` pero permite crear nuevas columnas</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a><span class="co"># que pueden tener m√°s de una fila por grupo, √∫til para c√°lculos m√°s complejos.</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Aqu√≠ calculamos medias, desviaciones est√°ndar, varianzas y el tama√±o de la muestra para cada grupo.</span></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Tambi√©n se calcula el error est√°ndar (`datos.ee`).</span></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>datos_resumidos1 <span class="ot">=</span></span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>  biol <span class="sc">%&gt;%</span>  </span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Station, Size, Layers) <span class="sc">%&gt;%</span> </span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">reframe</span> (<span class="at">datos.m  =</span> <span class="fu">mean</span>(Abundance, <span class="at">na.rm=</span> <span class="cn">TRUE</span>),    <span class="co"># Medias</span></span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a>             <span class="at">datos.de =</span> <span class="fu">sd</span>(Abundance, <span class="at">na.rm=</span> <span class="cn">TRUE</span>),    <span class="co"># Desviaciones</span></span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a>             <span class="at">datos.var=</span> <span class="fu">var</span>(Abundance, <span class="at">na.rm=</span> <span class="cn">TRUE</span>),   <span class="co"># Varianzas</span></span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a>             <span class="at">datos.n  =</span> <span class="fu">n</span>(),              <span class="co"># Tama√±o de la muestra</span></span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a>             <span class="at">datos.ee =</span> <span class="fu">sd</span>(Abundance, <span class="at">na.rm=</span> <span class="cn">TRUE</span>) <span class="sc">/</span>   <span class="co"># Error est√°ndar</span></span>
<span id="cb7-15"><a href="#cb7-15" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">sqrt</span>(Abundance)</span>
<span id="cb7-16"><a href="#cb7-16" aria-hidden="true" tabindex="-1"></a>               )</span>
<span id="cb7-17"><a href="#cb7-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Validar distribuci√≥n: Muestra las primeras filas de la tabla resumida con dos factores.</span></span>
<span id="cb7-18"><a href="#cb7-18" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(datos_resumidos1, <span class="dv">4</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb7-19"><a href="#cb7-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kbl</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb7-20"><a href="#cb7-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_classic</span>(<span class="at">full_width =</span> F)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">

<table class=" lightable-classic" style="font-family: &quot;Arial Narrow&quot;, &quot;Source Sans Pro&quot;, sans-serif; width: auto !important; margin-left: auto; margin-right: auto;">
 <thead>
  <tr>
   <th style="text-align:left;"> Station </th>
   <th style="text-align:left;"> Size </th>
   <th style="text-align:left;"> Layers </th>
   <th style="text-align:right;"> datos.m </th>
   <th style="text-align:right;"> datos.de </th>
   <th style="text-align:right;"> datos.var </th>
   <th style="text-align:right;"> datos.n </th>
   <th style="text-align:right;"> datos.ee </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;"> 2 </td>
   <td style="text-align:left;"> 250 Œºm </td>
   <td style="text-align:left;"> Depth </td>
   <td style="text-align:right;"> 584.5833 </td>
   <td style="text-align:right;"> 1782.971 </td>
   <td style="text-align:right;"> 3178986 </td>
   <td style="text-align:right;"> 24 </td>
   <td style="text-align:right;"> 891.48553 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> 2 </td>
   <td style="text-align:left;"> 250 Œºm </td>
   <td style="text-align:left;"> Depth </td>
   <td style="text-align:right;"> 584.5833 </td>
   <td style="text-align:right;"> 1782.971 </td>
   <td style="text-align:right;"> 3178986 </td>
   <td style="text-align:right;"> 24 </td>
   <td style="text-align:right;"> 257.34971 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> 2 </td>
   <td style="text-align:left;"> 250 Œºm </td>
   <td style="text-align:left;"> Depth </td>
   <td style="text-align:right;"> 584.5833 </td>
   <td style="text-align:right;"> 1782.971 </td>
   <td style="text-align:right;"> 3178986 </td>
   <td style="text-align:right;"> 24 </td>
   <td style="text-align:right;"> 111.43569 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> 2 </td>
   <td style="text-align:left;"> 250 Œºm </td>
   <td style="text-align:left;"> Depth </td>
   <td style="text-align:right;"> 584.5833 </td>
   <td style="text-align:right;"> 1782.971 </td>
   <td style="text-align:right;"> 3178986 </td>
   <td style="text-align:right;"> 24 </td>
   <td style="text-align:right;"> 21.34721 </td>
  </tr>
</tbody>
</table>

</div>
</div>
<div class="callout-tip callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
üí° Interpretaci√≥n Ecol√≥gica
</div>
</div>
<div class="callout-body-container callout-body">
<p>Los res√∫menes estad√≠sticos nos permiten identificar tendencias de patrones espaciales, taxones dominantes y u distribuci√≥n, que pueden apoyar la generaci√≥n de hip√≥tesis ecol√≥gicas profundas.</p>
</div>
</div>
</section>
<section id="transformaci√≥n-de-datos-1" class="level4">
<h4 class="anchored" data-anchor-id="transformaci√≥n-de-datos-1">1.4 Transformaci√≥n de datos</h4>
<p>La <strong>transformaci√≥n de datos</strong> es una habilidad esencial en el an√°lisis ecol√≥gico, permiti√©ndonos adaptar la estructura de nuestros conjuntos de datos a las necesidades espec√≠ficas de cada an√°lisis o visualizaci√≥n. Las funciones <code>pivot_longer</code> y <code>pivot_wider</code> de <code>tidyverse</code> son herramientas poderosas que nos permiten cambiar la ‚Äúforma‚Äù de nuestros datos, como si estuvi√©ramos reorganizando una colecci√≥n de espec√≠menes para un estudio m√°s detallado. <code>pivot_longer</code> es √∫til para convertir datos de un formato ‚Äúancho‚Äù (donde cada variable es una columna) a un formato ‚Äúlargo‚Äù (donde las variables se apilan en una sola columna), lo cual es ideal para la mayor√≠a de los an√°lisis y gr√°ficos en <code>ggplot2</code>. Por el contrario, <code>pivot_wider</code> nos permite volver al formato ancho cuando sea necesario, por ejemplo, para preparar datos para ciertos modelos estad√≠sticos o para una presentaci√≥n espec√≠fica. Estas transformaciones son clave para desbloquear el potencial anal√≠tico de nuestros datos ecol√≥gicos.</p>
<p><code>pivot_longer</code> cambia la estructura de los datos de ancho a largo.</p>
<div class="cell">
<details>
<summary>C√≥digo</summary>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Convertir columnas "Temperature, Salinity, Density" de formato ancho a largo:</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="co"># `pivot_longer()` transforma m√∫ltiples columnas en dos nuevas columnas: una para los nombres</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="co"># originales de las columnas (`names_to`) y otra para sus valores (`values_to`).</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a><span class="co"># `cols` especifica las columnas a pivotar.</span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>datos_largo <span class="ot">&lt;-</span></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>  biol <span class="sc">%&gt;%</span></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="fu">c</span>(Temperature, Salinity, Density),  <span class="co"># Estas columnas en 1 sola</span></span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>               <span class="at">names_to =</span> <span class="st">"Environmental_Variable"</span>,  <span class="co"># Nombre de la nueva columna</span></span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>               <span class="at">values_to =</span> <span class="st">"Value"</span>)                  <span class="co"># Valores de las columnas </span></span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Validar distribuci√≥n: Muestra las primeras filas del dataframe en formato largo.</span></span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(datos_largo, <span class="dv">4</span>) <span class="sc">%&gt;%</span></span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kbl</span>() <span class="sc">%&gt;%</span></span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_classic</span>(<span class="at">full_width =</span> F)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">

<table class=" lightable-classic" style="font-family: &quot;Arial Narrow&quot;, &quot;Source Sans Pro&quot;, sans-serif; width: auto !important; margin-left: auto; margin-right: auto;">
 <thead>
  <tr>
   <th style="text-align:left;"> Station </th>
   <th style="text-align:left;"> Size </th>
   <th style="text-align:left;"> Layers </th>
   <th style="text-align:left;"> Groups </th>
   <th style="text-align:right;"> Abundance </th>
   <th style="text-align:left;"> Environmental_Variable </th>
   <th style="text-align:right;"> Value </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;"> 2 </td>
   <td style="text-align:left;"> 250 Œºm </td>
   <td style="text-align:left;"> Surface </td>
   <td style="text-align:left;"> Quetognatos </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:left;"> Temperature </td>
   <td style="text-align:right;"> 30.29749 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> 2 </td>
   <td style="text-align:left;"> 250 Œºm </td>
   <td style="text-align:left;"> Surface </td>
   <td style="text-align:left;"> Quetognatos </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:left;"> Salinity </td>
   <td style="text-align:right;"> 34.69981 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> 2 </td>
   <td style="text-align:left;"> 250 Œºm </td>
   <td style="text-align:left;"> Surface </td>
   <td style="text-align:left;"> Quetognatos </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:left;"> Density </td>
   <td style="text-align:right;"> 21.41783 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> 2 </td>
   <td style="text-align:left;"> 250 Œºm </td>
   <td style="text-align:left;"> Surface </td>
   <td style="text-align:left;"> Sergestidae </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:left;"> Temperature </td>
   <td style="text-align:right;"> 29.40959 </td>
  </tr>
</tbody>
</table>

</div>
</div>
<p><code>pivot_wider</code> regresa los datos a su formato original (ancho).</p>
<div class="cell">
<details>
<summary>C√≥digo</summary>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Convertir columnas "Temperature, Salinity, Density" de formato largo a ancho:</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="co"># `pivot_wider()` es la operaci√≥n inversa a `pivot_longer()`. Transforma datos de formato largo a ancho.</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a><span class="co"># `names_from` especifica la columna que contiene los nombres de las nuevas columnas.</span></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a><span class="co"># `values_from` especifica la columna que contiene los valores para las nuevas columnas.</span></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a><span class="co"># `values_fn = first` maneja posibles duplicados, tomando el primer valor encontrado.</span></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>datos_ancho <span class="ot">&lt;-</span></span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>  datos_largo <span class="sc">%&gt;%</span></span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> Environmental_Variable,  <span class="co"># Usa esta columna para crear nuevas columnas</span></span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a>              <span class="at">values_from =</span> Value,  <span class="co"># Valores de las nuevas columnas</span></span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a>              <span class="at">values_fn =</span> first)    <span class="co"># Primer valor encontrado en caso de duplicados</span></span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Validar distribuci√≥n: Muestra las primeras filas del dataframe en formato ancho.</span></span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(datos_ancho, <span class="dv">4</span>) <span class="sc">%&gt;%</span></span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kbl</span>() <span class="sc">%&gt;%</span></span>
<span id="cb9-15"><a href="#cb9-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_classic</span>(<span class="at">full_width =</span> F)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">

<table class=" lightable-classic" style="font-family: &quot;Arial Narrow&quot;, &quot;Source Sans Pro&quot;, sans-serif; width: auto !important; margin-left: auto; margin-right: auto;">
 <thead>
  <tr>
   <th style="text-align:left;"> Station </th>
   <th style="text-align:left;"> Size </th>
   <th style="text-align:left;"> Layers </th>
   <th style="text-align:left;"> Groups </th>
   <th style="text-align:right;"> Abundance </th>
   <th style="text-align:right;"> Temperature </th>
   <th style="text-align:right;"> Salinity </th>
   <th style="text-align:right;"> Density </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;"> 2 </td>
   <td style="text-align:left;"> 250 Œºm </td>
   <td style="text-align:left;"> Surface </td>
   <td style="text-align:left;"> Quetognatos </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 30.29749 </td>
   <td style="text-align:right;"> 34.69981 </td>
   <td style="text-align:right;"> 21.417828 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> 2 </td>
   <td style="text-align:left;"> 250 Œºm </td>
   <td style="text-align:left;"> Surface </td>
   <td style="text-align:left;"> Sergestidae </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 29.40959 </td>
   <td style="text-align:right;"> 25.83323 </td>
   <td style="text-align:right;"> 15.085254 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> 2 </td>
   <td style="text-align:left;"> 250 Œºm </td>
   <td style="text-align:left;"> Surface </td>
   <td style="text-align:left;"> Luciferidae </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 29.59008 </td>
   <td style="text-align:right;"> 12.38513 </td>
   <td style="text-align:right;"> 5.729643 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> 2 </td>
   <td style="text-align:left;"> 250 Œºm </td>
   <td style="text-align:left;"> Surface </td>
   <td style="text-align:left;"> Calanoida </td>
   <td style="text-align:right;"> 32 </td>
   <td style="text-align:right;"> 30.29749 </td>
   <td style="text-align:right;"> 34.69981 </td>
   <td style="text-align:right;"> 21.417828 </td>
  </tr>
</tbody>
</table>

</div>
</div>
<p>La transformaci√≥n de datos tambi√©n es una herramienta fundamental en el an√°lisis ecol√≥gico, especialmente cuando trabajamos con variables que no siguen distribuciones normales, que no se relacionan de forma lineal o cuando necesitamos estandarizar medidas para comparaciones v√°lidas. En ecosistemas acu√°ticos, las abundancias de organismos frecuentemente muestran distribuciones asim√©tricas, con muchos valores bajos (o de ceros) y pocos valores altos, lo que requiere transformaciones para an√°lisis estad√≠sticos apropiados.</p>
<div class="cell">
<details>
<summary>C√≥digo</summary>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Transformaciones usando mutate()</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>biol_transformado <span class="ot">&lt;-</span> biol <span class="sc">%&gt;%</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">log_abundancia =</span> <span class="fu">log</span>(Abundance <span class="sc">+</span> <span class="dv">1</span>),</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">sqrt_abundancia =</span> <span class="fu">sqrt</span>(Abundance),</span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">temp_estandarizada =</span> <span class="fu">scale</span>(Temperature)[,<span class="dv">1</span>],</span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">sal_estandarizada =</span> <span class="fu">scale</span>(Salinity)[,<span class="dv">1</span>]</span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Comparar transformaciones</span></span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a>biol_transformado <span class="sc">%&gt;%</span></span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Groups, Abundance, log_abundancia, sqrt_abundancia, </span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a>         Temperature, temp_estandarizada) <span class="sc">%&gt;%</span></span>
<span id="cb10-14"><a href="#cb10-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice_head</span>(<span class="at">n =</span> <span class="dv">8</span>) <span class="sc">%&gt;%</span></span>
<span id="cb10-15"><a href="#cb10-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>(<span class="at">caption =</span> <span class="st">"Comparaci√≥n de datos originales y transformados"</span>, </span>
<span id="cb10-16"><a href="#cb10-16" aria-hidden="true" tabindex="-1"></a>        <span class="at">digits =</span> <span class="dv">2</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="table table-sm table-striped">
<caption>Comparaci√≥n de datos originales y transformados</caption>
<colgroup>
<col style="width: 18%">
<col style="width: 11%">
<col style="width: 17%">
<col style="width: 18%">
<col style="width: 13%">
<col style="width: 21%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Groups</th>
<th style="text-align: right;">Abundance</th>
<th style="text-align: right;">log_abundancia</th>
<th style="text-align: right;">sqrt_abundancia</th>
<th style="text-align: right;">Temperature</th>
<th style="text-align: right;">temp_estandarizada</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Quetognatos</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">30.30</td>
<td style="text-align: right;">1.92</td>
</tr>
<tr class="even">
<td style="text-align: left;">Sergestidae</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">29.41</td>
<td style="text-align: right;">-0.34</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Luciferidae</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">29.59</td>
<td style="text-align: right;">0.12</td>
</tr>
<tr class="even">
<td style="text-align: left;">Calanoida</td>
<td style="text-align: right;">32</td>
<td style="text-align: right;">3.50</td>
<td style="text-align: right;">5.66</td>
<td style="text-align: right;">30.30</td>
<td style="text-align: right;">1.92</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Cyclopoida</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">1.61</td>
<td style="text-align: right;">2.00</td>
<td style="text-align: right;">29.41</td>
<td style="text-align: right;">-0.34</td>
</tr>
<tr class="even">
<td style="text-align: left;">Harpacticoida</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">1.10</td>
<td style="text-align: right;">1.41</td>
<td style="text-align: right;">29.59</td>
<td style="text-align: right;">0.12</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Larvas de peces</td>
<td style="text-align: right;">8</td>
<td style="text-align: right;">2.20</td>
<td style="text-align: right;">2.83</td>
<td style="text-align: right;">30.30</td>
<td style="text-align: right;">1.92</td>
</tr>
<tr class="even">
<td style="text-align: left;">Huevos de peces</td>
<td style="text-align: right;">28</td>
<td style="text-align: right;">3.37</td>
<td style="text-align: right;">5.29</td>
<td style="text-align: right;">29.41</td>
<td style="text-align: right;">-0.34</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="callout-tip callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
üí° Cu√°ndo Usar Cada Transformaci√≥n
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li><strong>Log(x+1)</strong>: Para datos con distribuci√≥n log-normal y gran variabilidad</li>
<li><strong>‚àöx</strong>: Para datos de conteo, estabiliza la varianza</li>
<li><strong>Estandarizaci√≥n</strong>: Para comparar variables en diferentes escalas</li>
</ul>
</div>
</div>
</section>
<section id="transposici√≥n-de-datos-1" class="level4">
<h4 class="anchored" data-anchor-id="transposici√≥n-de-datos-1">1.5 Transposici√≥n de datos</h4>
<p>La <strong>transposici√≥n de datos</strong> es una t√©cnica que nos permite cambiar la orientaci√≥n de nuestra tabla, transformando filas en columnas y viceversa. En ecolog√≠a, esto es particularmente √∫til cuando necesitamos reorganizar la informaci√≥n para an√°lisis espec√≠ficos, como la creaci√≥n de matrices de especies por sitio para an√°lisis de comunidades o la preparaci√≥n de datos para ciertos modelos estad√≠sticos. Al transponer, podemos ver nuestros datos desde una nueva perspectiva, lo que a menudo revela patrones ocultos o facilita la aplicaci√≥n de algoritmos que requieren una estructura de datos particular. Es como reorientar un mapa para ver un territorio desde un √°ngulo diferente, lo que puede destacar caracter√≠sticas que antes pasaban desapercibidas.</p>
<p>Los siguientes procedimientos permiten <strong>agrupar</strong> por grupos taxon√≥micos en filas y estaciones en columnas, para luego <strong>transporner</strong> la base y que pueda ser utilizada en diferentes procedimientos.</p>
<div class="cell">
<details>
<summary>C√≥digo</summary>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Agrupar a los taxones en filas y a las estaciones en columnas:</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Este bloque de c√≥digo transforma los datos para agrupar la abundancia por estaci√≥n y grupo taxon√≥mico,</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a><span class="co"># y luego pivota la tabla para que las estaciones sean columnas y los grupos filas.</span></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a><span class="co"># `biol[,c(1,3:5)]` selecciona las columnas necesarias: Station, Layers, Groups, Abundance.</span></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a><span class="co"># `group_by(Station, Groups)` agrupa los datos por estaci√≥n y grupo.</span></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a><span class="co"># `summarise(Abundance = sum(Abundance, na.rm = TRUE))` suma la abundancia para cada grupo/estaci√≥n.</span></span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a><span class="co"># `pivot_wider()` convierte el formato de largo a ancho, con `Station` como nuevas columnas.</span></span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>datos_transp <span class="ot">&lt;-</span></span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a>  biol[,<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">3</span><span class="sc">:</span><span class="dv">5</span>)] <span class="sc">%&gt;%</span></span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Station, Groups) <span class="sc">%&gt;%</span></span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">Abundance =</span> <span class="fu">sum</span>(Abundance, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), <span class="co"># Suma la ab. por grupo y estaci√≥n</span></span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a>            <span class="at">.groups =</span> <span class="st">"drop"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> Station, </span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a>              <span class="at">values_from =</span> Abundance)  <span class="co"># Convierte "Station" en nuevas columnas.</span></span>
<span id="cb11-15"><a href="#cb11-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-16"><a href="#cb11-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Validar distribuci√≥n: Muestra las primeras filas de la tabla transpuesta.</span></span>
<span id="cb11-17"><a href="#cb11-17" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(datos_transp, <span class="dv">4</span>) <span class="sc">%&gt;%</span></span>
<span id="cb11-18"><a href="#cb11-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kbl</span>() <span class="sc">%&gt;%</span></span>
<span id="cb11-19"><a href="#cb11-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_classic</span>(<span class="at">full_width =</span> F)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">

<table class=" lightable-classic" style="font-family: &quot;Arial Narrow&quot;, &quot;Source Sans Pro&quot;, sans-serif; width: auto !important; margin-left: auto; margin-right: auto;">
 <thead>
  <tr>
   <th style="text-align:left;"> Groups </th>
   <th style="text-align:right;"> 2 </th>
   <th style="text-align:right;"> 4 </th>
   <th style="text-align:right;"> 7 </th>
   <th style="text-align:right;"> 9 </th>
   <th style="text-align:right;"> 13 </th>
   <th style="text-align:right;"> 15 </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;"> Calanoida </td>
   <td style="text-align:right;"> 13300 </td>
   <td style="text-align:right;"> 11006 </td>
   <td style="text-align:right;"> 288 </td>
   <td style="text-align:right;"> 1615 </td>
   <td style="text-align:right;"> 3911 </td>
   <td style="text-align:right;"> 3362 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Cyclopoida </td>
   <td style="text-align:right;"> 428 </td>
   <td style="text-align:right;"> 947 </td>
   <td style="text-align:right;"> 29 </td>
   <td style="text-align:right;"> 125 </td>
   <td style="text-align:right;"> 237 </td>
   <td style="text-align:right;"> 307 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Harpacticoida </td>
   <td style="text-align:right;"> 50 </td>
   <td style="text-align:right;"> 33 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 45 </td>
   <td style="text-align:right;"> 18 </td>
   <td style="text-align:right;"> 4 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Huevos de peces </td>
   <td style="text-align:right;"> 168 </td>
   <td style="text-align:right;"> 135 </td>
   <td style="text-align:right;"> 6 </td>
   <td style="text-align:right;"> 20 </td>
   <td style="text-align:right;"> 92 </td>
   <td style="text-align:right;"> 2 </td>
  </tr>
</tbody>
</table>

</div>
<details>
<summary>C√≥digo</summary>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co"># ***Nota: ***Esta no es necesaria para el taller</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Transponer la anterior usando pivot_longer y pivot_wider:</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Este bloque demuestra c√≥mo se podr√≠a transponer la tabla `datos_transp` de nuevo,</span></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a><span class="co"># aunque se indica que no es esencial para el taller.</span></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a><span class="co"># `pivot_longer(cols = -1)` convierte todas las columnas excepto la primera en filas.</span></span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a><span class="co"># `names_to` y `values_to` definen los nombres de las nuevas columnas.</span></span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a><span class="co"># `pivot_wider()` luego revierte la operaci√≥n, usando la primera columna original para crear nuevas columnas.</span></span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a>datos_transp1 <span class="ot">&lt;-</span></span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a>  datos_transp <span class="sc">%&gt;%</span></span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="sc">-</span><span class="dv">1</span>,  <span class="co"># Todas las columnas excepto la primera se convierten en filas</span></span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a>               <span class="at">names_to   =</span> <span class="st">"Station"</span>,    <span class="co"># Los nombres de las columnas originales se almacenan aqu√≠</span></span>
<span id="cb12-12"><a href="#cb12-12" aria-hidden="true" tabindex="-1"></a>               <span class="at">values_to  =</span> <span class="st">"value"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb12-13"><a href="#cb12-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from  =</span> <span class="fu">names</span>(datos_transp)[<span class="dv">1</span>],  <span class="co"># Usa la primera columna original para crear nuevas columnas</span></span>
<span id="cb12-14"><a href="#cb12-14" aria-hidden="true" tabindex="-1"></a>              <span class="at">values_from =</span> value)        <span class="co"># Los valores se colocan en las nuevas columnas</span></span>
<span id="cb12-15"><a href="#cb12-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-16"><a href="#cb12-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-17"><a href="#cb12-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Validar distribuci√≥n: Muestra las primeras filas de la tabla transpuesta nuevamente.</span></span>
<span id="cb12-18"><a href="#cb12-18" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(datos_transp1, <span class="dv">4</span>) <span class="sc">%&gt;%</span></span>
<span id="cb12-19"><a href="#cb12-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kbl</span>() <span class="sc">%&gt;%</span></span>
<span id="cb12-20"><a href="#cb12-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_classic</span>(<span class="at">full_width =</span> F)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">

<table class=" lightable-classic" style="font-family: &quot;Arial Narrow&quot;, &quot;Source Sans Pro&quot;, sans-serif; width: auto !important; margin-left: auto; margin-right: auto;">
 <thead>
  <tr>
   <th style="text-align:left;"> Station </th>
   <th style="text-align:right;"> Calanoida </th>
   <th style="text-align:right;"> Cyclopoida </th>
   <th style="text-align:right;"> Harpacticoida </th>
   <th style="text-align:right;"> Huevos de peces </th>
   <th style="text-align:right;"> Larva Nauplio </th>
   <th style="text-align:right;"> Larva Zoea </th>
   <th style="text-align:right;"> Larvas de Crustaceo </th>
   <th style="text-align:right;"> Larvas de peces </th>
   <th style="text-align:right;"> Luciferidae </th>
   <th style="text-align:right;"> Otros </th>
   <th style="text-align:right;"> Quetognatos </th>
   <th style="text-align:right;"> Sergestidae </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;"> 2 </td>
   <td style="text-align:right;"> 13300 </td>
   <td style="text-align:right;"> 428 </td>
   <td style="text-align:right;"> 50 </td>
   <td style="text-align:right;"> 168 </td>
   <td style="text-align:right;"> 57 </td>
   <td style="text-align:right;"> 44 </td>
   <td style="text-align:right;"> 16 </td>
   <td style="text-align:right;"> 2562 </td>
   <td style="text-align:right;"> 12411 </td>
   <td style="text-align:right;"> 30 </td>
   <td style="text-align:right;"> 86 </td>
   <td style="text-align:right;"> 1219 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> 4 </td>
   <td style="text-align:right;"> 11006 </td>
   <td style="text-align:right;"> 947 </td>
   <td style="text-align:right;"> 33 </td>
   <td style="text-align:right;"> 135 </td>
   <td style="text-align:right;"> 282 </td>
   <td style="text-align:right;"> 406 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 98 </td>
   <td style="text-align:right;"> 11659 </td>
   <td style="text-align:right;"> 234 </td>
   <td style="text-align:right;"> 385 </td>
   <td style="text-align:right;"> 397 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> 7 </td>
   <td style="text-align:right;"> 288 </td>
   <td style="text-align:right;"> 29 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 6 </td>
   <td style="text-align:right;"> 12 </td>
   <td style="text-align:right;"> 59 </td>
   <td style="text-align:right;"> 125 </td>
   <td style="text-align:right;"> 25 </td>
   <td style="text-align:right;"> 20 </td>
   <td style="text-align:right;"> 48 </td>
   <td style="text-align:right;"> 74 </td>
   <td style="text-align:right;"> 24 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> 9 </td>
   <td style="text-align:right;"> 1615 </td>
   <td style="text-align:right;"> 125 </td>
   <td style="text-align:right;"> 45 </td>
   <td style="text-align:right;"> 20 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 10 </td>
   <td style="text-align:right;"> 38 </td>
   <td style="text-align:right;"> 27 </td>
   <td style="text-align:right;"> 6 </td>
   <td style="text-align:right;"> 93 </td>
   <td style="text-align:right;"> 81 </td>
   <td style="text-align:right;"> 8 </td>
  </tr>
</tbody>
</table>

</div>
</div>
</section>
<section id="uni√≥n-de-datos-1" class="level4">
<h4 class="anchored" data-anchor-id="uni√≥n-de-datos-1">1.6 Uni√≥n de datos</h4>
<p>En la investigaci√≥n ecol√≥gica, es com√∫n que la informaci√≥n provenga de diversas fuentes: datos biol√≥gicos de una campa√±a de muestreo, datos fisicoqu√≠micos de estaciones de monitoreo, o informaci√≥n geogr√°fica de sistemas de informaci√≥n. La <strong>uni√≥n de datos</strong> es el proceso de integrar estas piezas dispares en un conjunto de datos coherente, como ensamblar las diferentes partes de un ecosistema para entender su funcionamiento integral. La funci√≥n <code>left_join</code> de <code>tidyverse</code> es una herramienta invaluable para esta tarea, permiti√©ndonos combinar dataframes bas√°ndose en una o m√°s columnas comunes. Esto nos facilita la exploraci√≥n de relaciones complejas, por ejemplo, c√≥mo la abundancia de una especie de plancton se relaciona con la salinidad o la temperatura del agua en una estaci√≥n espec√≠fica. Al unir los datos, construimos una imagen m√°s completa y hol√≠stica del sistema que estamos estudiando.</p>
<p>Se puede <strong>unir</strong> bases de datos con <code>left_join</code>. Para este ejercicio se crea la variable categ√≥rica <strong>Regiones</strong></p>
<div class="cell">
<details>
<summary>C√≥digo</summary>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Se requiere a Station como factor: Aseguramos que `Station` sea tratada como una variable categ√≥rica.</span></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>biol<span class="sc">$</span>Station <span class="ot">=</span> <span class="fu">as.factor</span>(biol<span class="sc">$</span>Station)</span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Crear una base de datos adicional de regiones (nueva variable):</span></span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Creamos un `tibble` (un tipo de dataframe de tidyverse) con estaciones y sus regiones asociadas.</span></span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a>Regiones <span class="ot">=</span></span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tibble</span>(<span class="at">Station =</span> <span class="fu">c</span>(<span class="st">"2"</span>,  <span class="st">"4"</span>,  <span class="st">"7"</span>,  <span class="st">"9"</span>, <span class="st">"13"</span>, <span class="st">"15"</span>),</span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a>         <span class="at">Region =</span> <span class="fu">c</span>(<span class="st">"Norte"</span>, <span class="st">"Sur"</span>, <span class="st">"Este"</span>, <span class="st">"Oeste"</span>, <span class="st">"Central"</span>, <span class="st">"Otras"</span>))</span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-12"><a href="#cb13-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Unir bases de datos con `left_join()`:</span></span>
<span id="cb13-13"><a href="#cb13-13" aria-hidden="true" tabindex="-1"></a><span class="co"># `left_join()` combina dos dataframes bas√°ndose en una columna com√∫n (`Station`).</span></span>
<span id="cb13-14"><a href="#cb13-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Mantiene todas las filas del dataframe de la izquierda (`biol`) y a√±ade las columnas coincidentes del dataframe de la derecha (`Regiones`).</span></span>
<span id="cb13-15"><a href="#cb13-15" aria-hidden="true" tabindex="-1"></a>biol1 <span class="ot">=</span></span>
<span id="cb13-16"><a href="#cb13-16" aria-hidden="true" tabindex="-1"></a>  biol <span class="sc">%&gt;%</span></span>
<span id="cb13-17"><a href="#cb13-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(Regiones, <span class="at">by=</span> <span class="st">"Station"</span>)</span>
<span id="cb13-18"><a href="#cb13-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-19"><a href="#cb13-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Validar distribuci√≥n: Muestra las primeras filas del dataframe combinado.</span></span>
<span id="cb13-20"><a href="#cb13-20" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(biol1, <span class="dv">4</span>) <span class="sc">%&gt;%</span></span>
<span id="cb13-21"><a href="#cb13-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kbl</span>() <span class="sc">%&gt;%</span></span>
<span id="cb13-22"><a href="#cb13-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_classic</span>(<span class="at">full_width =</span> F)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">

<table class=" lightable-classic" style="font-family: &quot;Arial Narrow&quot;, &quot;Source Sans Pro&quot;, sans-serif; width: auto !important; margin-left: auto; margin-right: auto;">
 <thead>
  <tr>
   <th style="text-align:left;"> Station </th>
   <th style="text-align:left;"> Size </th>
   <th style="text-align:left;"> Layers </th>
   <th style="text-align:left;"> Groups </th>
   <th style="text-align:right;"> Abundance </th>
   <th style="text-align:right;"> Temperature </th>
   <th style="text-align:right;"> Salinity </th>
   <th style="text-align:right;"> Density </th>
   <th style="text-align:left;"> Region </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;"> 2 </td>
   <td style="text-align:left;"> 250 Œºm </td>
   <td style="text-align:left;"> Surface </td>
   <td style="text-align:left;"> Quetognatos </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 30.29749 </td>
   <td style="text-align:right;"> 34.69981 </td>
   <td style="text-align:right;"> 21.417828 </td>
   <td style="text-align:left;"> Norte </td>
  </tr>
  <tr>
   <td style="text-align:left;"> 2 </td>
   <td style="text-align:left;"> 250 Œºm </td>
   <td style="text-align:left;"> Surface </td>
   <td style="text-align:left;"> Sergestidae </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 29.40959 </td>
   <td style="text-align:right;"> 25.83323 </td>
   <td style="text-align:right;"> 15.085254 </td>
   <td style="text-align:left;"> Norte </td>
  </tr>
  <tr>
   <td style="text-align:left;"> 2 </td>
   <td style="text-align:left;"> 250 Œºm </td>
   <td style="text-align:left;"> Surface </td>
   <td style="text-align:left;"> Luciferidae </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 29.59008 </td>
   <td style="text-align:right;"> 12.38513 </td>
   <td style="text-align:right;"> 5.729643 </td>
   <td style="text-align:left;"> Norte </td>
  </tr>
  <tr>
   <td style="text-align:left;"> 2 </td>
   <td style="text-align:left;"> 250 Œºm </td>
   <td style="text-align:left;"> Surface </td>
   <td style="text-align:left;"> Calanoida </td>
   <td style="text-align:right;"> 32 </td>
   <td style="text-align:right;"> 30.29749 </td>
   <td style="text-align:right;"> 34.69981 </td>
   <td style="text-align:right;"> 21.417828 </td>
   <td style="text-align:left;"> Norte </td>
  </tr>
</tbody>
</table>

</div>
</div>
<div class="callout-tip callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
üí° Tipos de Uni√≥n
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li><strong>left_join()</strong>: Mantiene todos los registros de la tabla izquierda (m√°s com√∫n)</li>
<li><strong>inner_join()</strong>: Solo registros que coinciden en ambas tablas</li>
<li><strong>full_join()</strong>: Todos los registros de ambas tablas</li>
</ul>
</div>
</div>
</section>
<section id="conversi√≥n-de-variables-a-factores" class="level4">
<h4 class="anchored" data-anchor-id="conversi√≥n-de-variables-a-factores">1.6 Conversi√≥n de variables a factores</h4>
<p>En el an√°lisis de datos ecol√≥gicos, la correcta interpretaci√≥n de las variables es fundamental. Las <strong>variables categ√≥ricas</strong>, como las estaciones de muestreo, los tama√±os de malla o las capas de profundidad, a menudo se representan num√©ricamente en las bases de datos, pero su naturaleza es cualitativa. La <strong>conversi√≥n de variables categ√≥ricas</strong> a factores en R es un paso crucial para asegurar que el software las interprete correctamente, lo que a su vez optimiza los an√°lisis estad√≠sticos y la visualizaci√≥n. Al definir una columna como factor, le indicamos a R que trate sus valores como niveles discretos, no como n√∫meros continuos. Esto es vital para realizar comparaciones significativas entre grupos, como la abundancia de especies en diferentes tipos de h√°bitat o la respuesta de los organismos a distintas condiciones ambientales. Es como etiquetar correctamente nuestras muestras en el laboratorio: una vez que est√°n bien clasificadas, podemos extraer conclusiones m√°s precisas y robustas.</p>
<p>Se convierte a <code>Station</code>, <code>Size</code> y <code>Layers</code> en factores para asegurar que R las reconozca como variables categ√≥ricas y optimizar an√°lisis posteriores.</p>
<div class="cell">
<details>
<summary>C√≥digo</summary>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Convertir variables a factores de dos formas:</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Opci√≥n antigua (as.factor) para "Station y Size":</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Este m√©todo es el tradicional para convertir columnas a factores.</span></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>biol<span class="sc">$</span>Station <span class="ot">=</span> <span class="fu">as.factor</span>(biol<span class="sc">$</span>Station)</span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>biol<span class="sc">$</span>Size <span class="ot">=</span> <span class="fu">as.factor</span>(biol<span class="sc">$</span>Size)</span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Opci√≥n con Tidy, (across) para "Station, Size y Layers":</span></span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a><span class="co"># `mutate(across())` es una forma m√°s moderna y eficiente de aplicar una funci√≥n</span></span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a><span class="co"># a m√∫ltiples columnas. Aqu√≠, convierte `Station`, `Size` y `Layers` a factores.</span></span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a>biol <span class="ot">&lt;-</span></span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a>  biol <span class="sc">%&gt;%</span></span>
<span id="cb14-12"><a href="#cb14-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="fu">c</span>(Station, Size, Layers), as.factor))</span>
<span id="cb14-13"><a href="#cb14-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-14"><a href="#cb14-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Validar distribuci√≥n: Muestra las primeras filas del dataframe con las variables convertidas.</span></span>
<span id="cb14-15"><a href="#cb14-15" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(biol, <span class="dv">4</span>) <span class="sc">%&gt;%</span></span>
<span id="cb14-16"><a href="#cb14-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kbl</span>() <span class="sc">%&gt;%</span></span>
<span id="cb14-17"><a href="#cb14-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_classic</span>(<span class="at">full_width =</span> F)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">

<table class=" lightable-classic" style="font-family: &quot;Arial Narrow&quot;, &quot;Source Sans Pro&quot;, sans-serif; width: auto !important; margin-left: auto; margin-right: auto;">
 <thead>
  <tr>
   <th style="text-align:left;"> Station </th>
   <th style="text-align:left;"> Size </th>
   <th style="text-align:left;"> Layers </th>
   <th style="text-align:left;"> Groups </th>
   <th style="text-align:right;"> Abundance </th>
   <th style="text-align:right;"> Temperature </th>
   <th style="text-align:right;"> Salinity </th>
   <th style="text-align:right;"> Density </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;"> 2 </td>
   <td style="text-align:left;"> 250 Œºm </td>
   <td style="text-align:left;"> Surface </td>
   <td style="text-align:left;"> Quetognatos </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 30.29749 </td>
   <td style="text-align:right;"> 34.69981 </td>
   <td style="text-align:right;"> 21.417828 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> 2 </td>
   <td style="text-align:left;"> 250 Œºm </td>
   <td style="text-align:left;"> Surface </td>
   <td style="text-align:left;"> Sergestidae </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 29.40959 </td>
   <td style="text-align:right;"> 25.83323 </td>
   <td style="text-align:right;"> 15.085254 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> 2 </td>
   <td style="text-align:left;"> 250 Œºm </td>
   <td style="text-align:left;"> Surface </td>
   <td style="text-align:left;"> Luciferidae </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 29.59008 </td>
   <td style="text-align:right;"> 12.38513 </td>
   <td style="text-align:right;"> 5.729643 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> 2 </td>
   <td style="text-align:left;"> 250 Œºm </td>
   <td style="text-align:left;"> Surface </td>
   <td style="text-align:left;"> Calanoida </td>
   <td style="text-align:right;"> 32 </td>
   <td style="text-align:right;"> 30.29749 </td>
   <td style="text-align:right;"> 34.69981 </td>
   <td style="text-align:right;"> 21.417828 </td>
  </tr>
</tbody>
</table>

</div>
</div>
</section>
<section id="abreviar-nombres-de-grupos-biol√≥gicos-1" class="level4">
<h4 class="anchored" data-anchor-id="abreviar-nombres-de-grupos-biol√≥gicos-1">1.8 Abreviar nombres de grupos biol√≥gicos</h4>
<p>En la taxonom√≠a biol√≥gica, los nombres cient√≠ficos pueden ser extensos y complejos, lo que a veces dificulta su uso en visualizaciones y an√°lisis. La <strong>abreviaci√≥n de nombres de grupos biol√≥gicos</strong> es una pr√°ctica com√∫n que nos permite mantener la informaci√≥n esencial mientras mejoramos la legibilidad de nuestros gr√°ficos y tablas. La funci√≥n <code>abbreviate()</code> de R es una herramienta √∫til para esta tarea, creando versiones m√°s cortas de los nombres que conservan su identidad √∫nica. Esto es especialmente valioso cuando trabajamos con m√∫ltiples taxones en un gr√°fico, donde nombres largos podr√≠an solaparse o hacer que las etiquetas sean ilegibles. Es como crear c√≥digos de identificaci√≥n para nuestras especies que sean tanto informativos como pr√°cticos para el an√°lisis y la comunicaci√≥n de resultados.</p>
<p>Para facilitar la visualizaci√≥n y manipulaci√≥n de datos, podemos <strong>abreviar</strong> los nombres de los grupos biol√≥gicos utilizando <code>abbreviate()</code>. Esto es √∫til cuando trabajamos con nombres largos que dificultan la lectura en gr√°ficos y tablas. Se crea una nueva columna (<strong>Abrev</strong>) con abreviaciones de los nombres de los grupos taxon√≥micos.</p>
<div class="cell">
<details>
<summary>C√≥digo</summary>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Nueva columna "Abrev" al final, con abreviaturas de los taxas:</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="co"># `mutate()` crea una nueva columna `Abrev` aplicando la funci√≥n `abbreviate()` a la columna `Groups`.</span></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a><span class="co"># `minlength = 4` asegura que las abreviaturas tengan al menos 4 caracteres.</span></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>biol <span class="ot">=</span></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>  biol <span class="sc">%&gt;%</span></span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Abrev =</span> <span class="fu">abbreviate</span>(Groups, <span class="at">minlength =</span> <span class="dv">4</span>))</span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Editar tabla: Muestra las primeras filas del dataframe con la nueva columna de abreviaturas.</span></span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a><span class="co"># `html_font = "Cambria"` especifica la fuente para la tabla HTML.</span></span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(biol, <span class="dv">4</span>) <span class="sc">%&gt;%</span>   <span class="co"># head muestra solo las primeras tres filas de la tabla </span></span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kbl</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb15-12"><a href="#cb15-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_classic</span>(<span class="at">full_width =</span> F, <span class="at">html_font =</span> <span class="st">"Cambria"</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">

<table class=" lightable-classic" style="font-family: Cambria; width: auto !important; margin-left: auto; margin-right: auto;">
 <thead>
  <tr>
   <th style="text-align:left;"> Station </th>
   <th style="text-align:left;"> Size </th>
   <th style="text-align:left;"> Layers </th>
   <th style="text-align:left;"> Groups </th>
   <th style="text-align:right;"> Abundance </th>
   <th style="text-align:right;"> Temperature </th>
   <th style="text-align:right;"> Salinity </th>
   <th style="text-align:right;"> Density </th>
   <th style="text-align:left;"> Abrev </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;"> 2 </td>
   <td style="text-align:left;"> 250 Œºm </td>
   <td style="text-align:left;"> Surface </td>
   <td style="text-align:left;"> Quetognatos </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 30.29749 </td>
   <td style="text-align:right;"> 34.69981 </td>
   <td style="text-align:right;"> 21.417828 </td>
   <td style="text-align:left;"> Qtgn </td>
  </tr>
  <tr>
   <td style="text-align:left;"> 2 </td>
   <td style="text-align:left;"> 250 Œºm </td>
   <td style="text-align:left;"> Surface </td>
   <td style="text-align:left;"> Sergestidae </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 29.40959 </td>
   <td style="text-align:right;"> 25.83323 </td>
   <td style="text-align:right;"> 15.085254 </td>
   <td style="text-align:left;"> Srgs </td>
  </tr>
  <tr>
   <td style="text-align:left;"> 2 </td>
   <td style="text-align:left;"> 250 Œºm </td>
   <td style="text-align:left;"> Surface </td>
   <td style="text-align:left;"> Luciferidae </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 29.59008 </td>
   <td style="text-align:right;"> 12.38513 </td>
   <td style="text-align:right;"> 5.729643 </td>
   <td style="text-align:left;"> Lcfr </td>
  </tr>
  <tr>
   <td style="text-align:left;"> 2 </td>
   <td style="text-align:left;"> 250 Œºm </td>
   <td style="text-align:left;"> Surface </td>
   <td style="text-align:left;"> Calanoida </td>
   <td style="text-align:right;"> 32 </td>
   <td style="text-align:right;"> 30.29749 </td>
   <td style="text-align:right;"> 34.69981 </td>
   <td style="text-align:right;"> 21.417828 </td>
   <td style="text-align:left;"> Clnd </td>
  </tr>
</tbody>
</table>

</div>
</div>
<div class="cell">
<details>
<summary>C√≥digo</summary>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Tabla adicional, con nombres completos y abreviados de los taxones:</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a><span class="co"># `cbind()` combina columnas para crear un nuevo dataframe.</span></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Aqu√≠ se crea una tabla que muestra los nombres completos de los grupos y sus abreviaturas.</span></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>tabla <span class="ot">&lt;-</span></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cbind</span>(<span class="at">Grupos =</span> biol[,<span class="dv">4</span>],</span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>        <span class="at">Abreviaturas =</span> biol<span class="sc">$</span>Abrev)</span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Editar tabla: Muestra las primeras filas de la tabla de abreviaturas.</span></span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(tabla, <span class="dv">4</span>) <span class="sc">%&gt;%</span>   </span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kbl</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb16-11"><a href="#cb16-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_classic</span>(<span class="at">full_width =</span> F, <span class="at">html_font =</span> <span class="st">"Cambria"</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">

<table class=" lightable-classic" style="font-family: Cambria; width: auto !important; margin-left: auto; margin-right: auto;">
 <thead>
  <tr>
   <th style="text-align:left;"> Groups </th>
   <th style="text-align:left;"> Abreviaturas </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;"> Quetognatos </td>
   <td style="text-align:left;"> Qtgn </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Sergestidae </td>
   <td style="text-align:left;"> Srgs </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Luciferidae </td>
   <td style="text-align:left;"> Lcfr </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Calanoida </td>
   <td style="text-align:left;"> Clnd </td>
  </tr>
</tbody>
</table>

</div>
</div>
<p>Se convierten las variables categ√≥ricas en <strong>factores</strong> y se agrupan los datos para calcular promedios y totales de las variables ambientales y de abundancia de los taxones seleccionados. Se construye una tabla (<strong>biol_ancho</strong>) que es √∫til para cuando la base de datos inicial est√° en <strong>formato largo</strong> y queremos transformarla a <strong>formato ancho</strong>, incluyendo a varios factores o variables agrupadoras, en caso de que se cuentre con ellas (Station, Size, Layers). Se genera una nueva columna <strong>Ref</strong> que resume la identificaci√≥n de cada combinaci√≥n de estaci√≥n, tama√±o y capa.</p>
<div class="cell">
<details>
<summary>C√≥digo</summary>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Librer√≠a necesaria: `dplyr` es parte de `tidyverse` y es fundamental para la manipulaci√≥n de datos.</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Procesamiento para ajustar los datos en formato ancho:</span></span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Este bloque de c√≥digo transforma el dataframe `biol` para crear una tabla en formato ancho (`biol_ancho`).</span></span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a><span class="co"># 1. `mutate(across(c(Station, Size, Layers), as.factor))` asegura que las variables agrupadoras sean factores.</span></span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a><span class="co"># 2. `group_by(Station, Size, Layers)` agrupa los datos por estas tres variables.</span></span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a><span class="co"># 3. `summarize(across(c(Temperature, Salinity, Density), ~round(mean(.),2)))` calcula el promedio</span></span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a><span class="co">#    de las variables ambientales para cada grupo y las redondea a dos decimales.</span></span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true" tabindex="-1"></a><span class="co"># 4. `Abundance = list(setNames(tapply(Abundance, Abrev,sum, default = 0), unique(Abrev)))` calcula la suma</span></span>
<span id="cb17-11"><a href="#cb17-11" aria-hidden="true" tabindex="-1"></a><span class="co">#    de la abundancia para cada abreviatura de tax√≥n dentro de cada grupo y la almacena como una lista.</span></span>
<span id="cb17-12"><a href="#cb17-12" aria-hidden="true" tabindex="-1"></a><span class="co"># 5. `.groups = "drop"` elimina la agrupaci√≥n despu√©s de la operaci√≥n de resumen.</span></span>
<span id="cb17-13"><a href="#cb17-13" aria-hidden="true" tabindex="-1"></a><span class="co"># 6. `unnest_wider(Abundance)` expande la columna `Abundance` (que contiene listas) en nuevas columnas,</span></span>
<span id="cb17-14"><a href="#cb17-14" aria-hidden="true" tabindex="-1"></a><span class="co">#    una por cada tax√≥n abreviado, con sus respectivas abundancias.</span></span>
<span id="cb17-15"><a href="#cb17-15" aria-hidden="true" tabindex="-1"></a><span class="co"># 7. `mutate(Ref = paste0(...))` crea una nueva columna `Ref` concatenando partes de `Station`, `Size` y `Layers`</span></span>
<span id="cb17-16"><a href="#cb17-16" aria-hidden="true" tabindex="-1"></a><span class="co">#    para formar un identificador √∫nico para cada combinaci√≥n.</span></span>
<span id="cb17-17"><a href="#cb17-17" aria-hidden="true" tabindex="-1"></a><span class="co"># 8. `select(Ref, everything())` reordena las columnas para que `Ref` sea la primera.</span></span>
<span id="cb17-18"><a href="#cb17-18" aria-hidden="true" tabindex="-1"></a>biol_ancho <span class="ot">&lt;-</span></span>
<span id="cb17-19"><a href="#cb17-19" aria-hidden="true" tabindex="-1"></a>  biol <span class="sc">%&gt;%</span></span>
<span id="cb17-20"><a href="#cb17-20" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Variables a factores</span></span>
<span id="cb17-21"><a href="#cb17-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="fu">c</span>(Station, Size, Layers), as.factor)) <span class="sc">%&gt;%</span></span>
<span id="cb17-22"><a href="#cb17-22" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Variables agrupadoras como </span></span>
<span id="cb17-23"><a href="#cb17-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Station, Size, Layers) <span class="sc">%&gt;%</span></span>
<span id="cb17-24"><a href="#cb17-24" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Promedios de las variables ambientales</span></span>
<span id="cb17-25"><a href="#cb17-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(</span>
<span id="cb17-26"><a href="#cb17-26" aria-hidden="true" tabindex="-1"></a>    <span class="fu">across</span>(<span class="fu">c</span>(Temperature, Salinity, Density), <span class="sc">~</span><span class="fu">round</span>(<span class="fu">mean</span>(.),<span class="dv">2</span>)),</span>
<span id="cb17-27"><a href="#cb17-27" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Totales de las abundancias por cada factor</span></span>
<span id="cb17-28"><a href="#cb17-28" aria-hidden="true" tabindex="-1"></a>    <span class="at">Abundance =</span> <span class="fu">list</span>(<span class="fu">setNames</span>(<span class="fu">tapply</span>(Abundance, Abrev,sum,</span>
<span id="cb17-29"><a href="#cb17-29" aria-hidden="true" tabindex="-1"></a>                                     <span class="at">default =</span> <span class="dv">0</span>), <span class="fu">unique</span>(Abrev))),</span>
<span id="cb17-30"><a href="#cb17-30" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Corregir algunos errores del agrupamiento</span></span>
<span id="cb17-31"><a href="#cb17-31" aria-hidden="true" tabindex="-1"></a>    <span class="at">.groups =</span> <span class="st">"drop"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb17-32"><a href="#cb17-32" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Separar las abundancias en las columnas de cada taxon</span></span>
<span id="cb17-33"><a href="#cb17-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unnest_wider</span>(Abundance) <span class="sc">%&gt;%</span></span>
<span id="cb17-34"><a href="#cb17-34" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Crear columna Ref, tomando iniciales de tres factores</span></span>
<span id="cb17-35"><a href="#cb17-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb17-36"><a href="#cb17-36" aria-hidden="true" tabindex="-1"></a>    <span class="at">Ref =</span> <span class="fu">paste0</span>(<span class="fu">substr</span>(Station, <span class="dv">1</span>, <span class="dv">2</span>),</span>
<span id="cb17-37"><a href="#cb17-37" aria-hidden="true" tabindex="-1"></a>               <span class="fu">substr</span>(Size, <span class="dv">1</span>, <span class="dv">1</span>),</span>
<span id="cb17-38"><a href="#cb17-38" aria-hidden="true" tabindex="-1"></a>               <span class="fu">substr</span>(Layers, <span class="dv">1</span>, <span class="dv">1</span>))) <span class="sc">%&gt;%</span></span>
<span id="cb17-39"><a href="#cb17-39" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Pasar la columna de referencia (consec) a la 1a columna</span></span>
<span id="cb17-40"><a href="#cb17-40" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Ref, <span class="fu">everything</span>())</span>
<span id="cb17-41"><a href="#cb17-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-42"><a href="#cb17-42" aria-hidden="true" tabindex="-1"></a><span class="co"># Validar distribuci√≥n: Muestra las primeras filas del dataframe `biol_ancho`.</span></span>
<span id="cb17-43"><a href="#cb17-43" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(biol_ancho, <span class="dv">4</span>) <span class="sc">%&gt;%</span></span>
<span id="cb17-44"><a href="#cb17-44" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kbl</span>() <span class="sc">%&gt;%</span></span>
<span id="cb17-45"><a href="#cb17-45" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_classic</span>(<span class="at">full_width =</span> F)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">

<table class=" lightable-classic" style="font-family: &quot;Arial Narrow&quot;, &quot;Source Sans Pro&quot;, sans-serif; width: auto !important; margin-left: auto; margin-right: auto;">
 <thead>
  <tr>
   <th style="text-align:left;"> Ref </th>
   <th style="text-align:left;"> Station </th>
   <th style="text-align:left;"> Size </th>
   <th style="text-align:left;"> Layers </th>
   <th style="text-align:right;"> Temperature </th>
   <th style="text-align:right;"> Salinity </th>
   <th style="text-align:right;"> Density </th>
   <th style="text-align:right;"> Qtgn </th>
   <th style="text-align:right;"> Srgs </th>
   <th style="text-align:right;"> Lcfr </th>
   <th style="text-align:right;"> Clnd </th>
   <th style="text-align:right;"> Cycl </th>
   <th style="text-align:right;"> Hrpc </th>
   <th style="text-align:right;"> Lrdp </th>
   <th style="text-align:right;"> Hvdp </th>
   <th style="text-align:right;"> LrvN </th>
   <th style="text-align:right;"> LrdC </th>
   <th style="text-align:right;"> LrvZ </th>
   <th style="text-align:right;"> Otrs </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;"> 22D </td>
   <td style="text-align:left;"> 2 </td>
   <td style="text-align:left;"> 250 Œºm </td>
   <td style="text-align:left;"> Depth </td>
   <td style="text-align:right;"> 29.88 </td>
   <td style="text-align:right;"> 25.26 </td>
   <td style="text-align:right;"> 14.40 </td>
   <td style="text-align:right;"> 12672 </td>
   <td style="text-align:right;"> 408 </td>
   <td style="text-align:right;"> 48 </td>
   <td style="text-align:right;"> 135 </td>
   <td style="text-align:right;"> 400 </td>
   <td style="text-align:right;"> 16 </td>
   <td style="text-align:right;"> 68 </td>
   <td style="text-align:right;"> 56 </td>
   <td style="text-align:right;"> 28 </td>
   <td style="text-align:right;"> 3 </td>
   <td style="text-align:right;"> 84 </td>
   <td style="text-align:right;"> 112 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> 22S </td>
   <td style="text-align:left;"> 2 </td>
   <td style="text-align:left;"> 250 Œºm </td>
   <td style="text-align:left;"> Surface </td>
   <td style="text-align:right;"> 29.75 </td>
   <td style="text-align:right;"> 23.27 </td>
   <td style="text-align:right;"> 13.35 </td>
   <td style="text-align:right;"> 568 </td>
   <td style="text-align:right;"> 20 </td>
   <td style="text-align:right;"> 2 </td>
   <td style="text-align:right;"> 28 </td>
   <td style="text-align:right;"> 984 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 2488 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 1096 </td>
   <td style="text-align:right;"> 24 </td>
   <td style="text-align:right;"> 0 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> 25D </td>
   <td style="text-align:left;"> 2 </td>
   <td style="text-align:left;"> 500 Œºm </td>
   <td style="text-align:left;"> Depth </td>
   <td style="text-align:right;"> 29.40 </td>
   <td style="text-align:right;"> 19.97 </td>
   <td style="text-align:right;"> 10.53 </td>
   <td style="text-align:right;"> 50 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 355 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 16 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 3 </td>
   <td style="text-align:right;"> 9 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> 25S </td>
   <td style="text-align:left;"> 2 </td>
   <td style="text-align:left;"> 500 Œºm </td>
   <td style="text-align:left;"> Surface </td>
   <td style="text-align:right;"> 29.99 </td>
   <td style="text-align:right;"> 28.66 </td>
   <td style="text-align:right;"> 17.02 </td>
   <td style="text-align:right;"> 10 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 5 </td>
   <td style="text-align:right;"> 10672 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 6 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 2 </td>
   <td style="text-align:right;"> 2 </td>
  </tr>
</tbody>
</table>

</div>
</div>
</section>
<section id="seleccionar-los-5-taxones-m√°s-abundantes-1" class="level4">
<h4 class="anchored" data-anchor-id="seleccionar-los-5-taxones-m√°s-abundantes-1">1.9 Seleccionar los 5 taxones m√°s abundantes</h4>
<p>El siguiente procedimiento es apropiado cuando se tienen <strong>demasiados taxones</strong> y se quiere trabajar con una <strong>versi√≥n resumida</strong>, normalmente se escogen los 10 o 15 taxones m√°s abundantes para resumir los an√°lisis, en este ejercicio como se cuenta con pocos taxones, se calcula la <strong>abundancia total</strong> de cada tax√≥n y se seleccionan los <strong>cinco m√°s abundantes</strong>. En <code>biol_selec</code>se seleccionan √∫nicamente los grupos m√°s abundantes del conjunto total.</p>
<p>En an√°lisis ecol√≥gicos, frecuentemente nos enfocamos en los grupos dominantes para simplificar interpretaciones y visualizaciones. Identificar y trabajar con los taxones m√°s abundantes es una pr√°ctica com√∫n en estudios de comunidades.</p>
<div class="cell">
<details>
<summary>C√≥digo</summary>
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Cinco (5) grupos taxon√≥micos m√°s abundantes</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>abundantes <span class="ot">&lt;-</span> </span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>  biol_ancho <span class="sc">%&gt;%</span></span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span>          <span class="co"># Elimina cualquier agrupaci√≥n previa</span></span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Qtgn<span class="sc">:</span>Otrs) <span class="sc">%&gt;%</span>  <span class="co"># Selecciona las columnas de los grupos taxon√≥micos</span></span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="fu">across</span>(<span class="fu">everything</span>(), </span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a>                   sum, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)) <span class="sc">%&gt;%</span>  <span class="co"># Calcula la abundancia total de cada grupo</span></span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="fu">everything</span>(), </span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a>               <span class="at">names_to =</span> <span class="st">"Grupo"</span>, </span>
<span id="cb18-10"><a href="#cb18-10" aria-hidden="true" tabindex="-1"></a>               <span class="at">values_to =</span> <span class="st">"Total"</span>) <span class="sc">%&gt;%</span>  <span class="co"># Convierte a formato largo</span></span>
<span id="cb18-11"><a href="#cb18-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(Total)) <span class="sc">%&gt;%</span>               <span class="co"># Ordena de mayor a menor</span></span>
<span id="cb18-12"><a href="#cb18-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice_head</span>(<span class="at">n =</span> <span class="dv">5</span>)                      <span class="co"># 5 grupos m√°s abundantes</span></span>
<span id="cb18-13"><a href="#cb18-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-14"><a href="#cb18-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Validar distribuci√≥n</span></span>
<span id="cb18-15"><a href="#cb18-15" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(abundantes, <span class="dv">4</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb18-16"><a href="#cb18-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kbl</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb18-17"><a href="#cb18-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_classic</span>(<span class="at">full_width =</span> F)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">

<table class=" lightable-classic" style="font-family: &quot;Arial Narrow&quot;, &quot;Source Sans Pro&quot;, sans-serif; width: auto !important; margin-left: auto; margin-right: auto;">
 <thead>
  <tr>
   <th style="text-align:left;"> Grupo </th>
   <th style="text-align:right;"> Total </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;"> Qtgn </td>
   <td style="text-align:right;"> 33482 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Cycl </td>
   <td style="text-align:right;"> 24110 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Lrdp </td>
   <td style="text-align:right;"> 2724 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Srgs </td>
   <td style="text-align:right;"> 2073 </td>
  </tr>
</tbody>
</table>

</div>
<details>
<summary>C√≥digo</summary>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Filtrar en biol_ancho solo estos 5 taxones m√°s abundantes</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>biol_selec <span class="ot">&lt;-</span> </span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>  biol_ancho <span class="sc">%&gt;%</span></span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Ref, Station, Size, Layers, </span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>         Temperature, Salinity, Density, </span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a>         <span class="fu">all_of</span>(abundantes<span class="sc">$</span>Grupo))  <span class="co"># Mantiene solo los grupos seleccionados</span></span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Validar distribuci√≥n</span></span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(biol_selec, <span class="dv">4</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb19-10"><a href="#cb19-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kbl</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb19-11"><a href="#cb19-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_classic</span>(<span class="at">full_width =</span> F)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">

<table class=" lightable-classic" style="font-family: &quot;Arial Narrow&quot;, &quot;Source Sans Pro&quot;, sans-serif; width: auto !important; margin-left: auto; margin-right: auto;">
 <thead>
  <tr>
   <th style="text-align:left;"> Ref </th>
   <th style="text-align:left;"> Station </th>
   <th style="text-align:left;"> Size </th>
   <th style="text-align:left;"> Layers </th>
   <th style="text-align:right;"> Temperature </th>
   <th style="text-align:right;"> Salinity </th>
   <th style="text-align:right;"> Density </th>
   <th style="text-align:right;"> Qtgn </th>
   <th style="text-align:right;"> Cycl </th>
   <th style="text-align:right;"> Lrdp </th>
   <th style="text-align:right;"> Srgs </th>
   <th style="text-align:right;"> LrdC </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;"> 22D </td>
   <td style="text-align:left;"> 2 </td>
   <td style="text-align:left;"> 250 Œºm </td>
   <td style="text-align:left;"> Depth </td>
   <td style="text-align:right;"> 29.88 </td>
   <td style="text-align:right;"> 25.26 </td>
   <td style="text-align:right;"> 14.40 </td>
   <td style="text-align:right;"> 12672 </td>
   <td style="text-align:right;"> 400 </td>
   <td style="text-align:right;"> 68 </td>
   <td style="text-align:right;"> 408 </td>
   <td style="text-align:right;"> 3 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> 22S </td>
   <td style="text-align:left;"> 2 </td>
   <td style="text-align:left;"> 250 Œºm </td>
   <td style="text-align:left;"> Surface </td>
   <td style="text-align:right;"> 29.75 </td>
   <td style="text-align:right;"> 23.27 </td>
   <td style="text-align:right;"> 13.35 </td>
   <td style="text-align:right;"> 568 </td>
   <td style="text-align:right;"> 984 </td>
   <td style="text-align:right;"> 2488 </td>
   <td style="text-align:right;"> 20 </td>
   <td style="text-align:right;"> 1096 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> 25D </td>
   <td style="text-align:left;"> 2 </td>
   <td style="text-align:left;"> 500 Œºm </td>
   <td style="text-align:left;"> Depth </td>
   <td style="text-align:right;"> 29.40 </td>
   <td style="text-align:right;"> 19.97 </td>
   <td style="text-align:right;"> 10.53 </td>
   <td style="text-align:right;"> 50 </td>
   <td style="text-align:right;"> 355 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> 25S </td>
   <td style="text-align:left;"> 2 </td>
   <td style="text-align:left;"> 500 Œºm </td>
   <td style="text-align:left;"> Surface </td>
   <td style="text-align:right;"> 29.99 </td>
   <td style="text-align:right;"> 28.66 </td>
   <td style="text-align:right;"> 17.02 </td>
   <td style="text-align:right;"> 10 </td>
   <td style="text-align:right;"> 10672 </td>
   <td style="text-align:right;"> 6 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0 </td>
  </tr>
</tbody>
</table>

</div>
</div>
</section>
<section id="visualizaci√≥n-de-factores" class="level4">
<h4 class="anchored" data-anchor-id="visualizaci√≥n-de-factores">1.10 Visualizaci√≥n de factores</h4>
<p><code>ggplot2</code> nos permite crear gr√°ficos para explorar los datos. Se genera una <strong>figura de cajas</strong> para visualizar las diferencias en la abundancia del plancton, entre las diferentes estaciones del estuario evaluado.</p>
<div class="cell">
<details>
<summary>C√≥digo</summary>
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Convertir variables a factores en caso que se requiera</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>biol <span class="ot">&lt;-</span> </span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>  biol <span class="sc">%&gt;%</span> </span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="fu">c</span>(Station, Size, Layers), as.factor))</span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Gr√°fico de caja de la abundancia por estaci√≥n</span></span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(biol, <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">factor</span>(Station), <span class="at">y =</span> Abundance)) <span class="sc">+</span></span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="fu">aes</span>(<span class="at">fill =</span> <span class="fu">factor</span>(Station))) <span class="sc">+</span></span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">trans =</span> <span class="st">"log10"</span>) <span class="sc">+</span>  <span class="co"># Aplicar la transformaci√≥n logar√≠tmica</span></span>
<span id="cb20-10"><a href="#cb20-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">'#fc8d59'</span>,<span class="st">'#ffffbf'</span>,<span class="st">'#99d594'</span>,<span class="st">'#377eb8'</span>,<span class="st">'#e78ac3'</span>,<span class="st">'#7570b3'</span>)) <span class="sc">+</span></span>
<span id="cb20-11"><a href="#cb20-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Distribuci√≥n de la Abundancia por Estaci√≥n"</span>, </span>
<span id="cb20-12"><a href="#cb20-12" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Estaciones"</span>, <span class="at">fill =</span> <span class="st">"Estaciones"</span>, </span>
<span id="cb20-13"><a href="#cb20-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="fu">expression</span>(log[<span class="dv">10</span>]<span class="sc">~</span>(Abundancia<span class="sc">~</span>indv.<span class="sc">~</span>m<span class="sc">^-</span><span class="dv">3</span>))</span>
<span id="cb20-14"><a href="#cb20-14" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb20-15"><a href="#cb20-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span></span>
<span id="cb20-16"><a href="#cb20-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb20-17"><a href="#cb20-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.grid.major =</span> <span class="fu">element_blank</span>(),  </span>
<span id="cb20-18"><a href="#cb20-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.grid.minor =</span> <span class="fu">element_blank</span>()</span>
<span id="cb20-19"><a href="#cb20-19" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="1_datos_files/figure-html/unnamed-chunk-18-1.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>C√≥digo</summary>
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="co"># probar sacale_fill_manual, con: scale_color_viridis(discrete = TRUE)</span></span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Con el comando <code>aes(fill = Layers)</code> se incorporan las capas superficial y profunda en las diferentes zonas.</p>
<div class="cell">
<details>
<summary>C√≥digo</summary>
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(forcats)  <span class="co"># Para manipulaci√≥n de factores</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Cambiar etiquetas de Layers con recode_factor()</span></span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>biol <span class="ot">&lt;-</span> </span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>  biol <span class="sc">%&gt;%</span></span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Layers =</span> <span class="fu">recode_factor</span>(Layers, </span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a>                                <span class="st">"Depth"</span> <span class="ot">=</span> <span class="st">"Profunda"</span>, </span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a>                                <span class="st">"Surface"</span> <span class="ot">=</span> <span class="st">"Superficial"</span>))</span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-10"><a href="#cb22-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Gr√°fico de caja de la abundancia por estaci√≥n</span></span>
<span id="cb22-11"><a href="#cb22-11" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(biol, <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">factor</span>(Station), <span class="at">y =</span> Abundance)) <span class="sc">+</span></span>
<span id="cb22-12"><a href="#cb22-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="fu">aes</span>(<span class="at">fill =</span> Layers)) <span class="sc">+</span></span>
<span id="cb22-13"><a href="#cb22-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">trans =</span> <span class="st">"log10"</span>) <span class="sc">+</span>  <span class="co"># Aplicar la transformaci√≥n logar√≠tmica</span></span>
<span id="cb22-14"><a href="#cb22-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Distribuci√≥n de la Abundancia por Estaci√≥n"</span>, </span>
<span id="cb22-15"><a href="#cb22-15" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Estaciones"</span>, <span class="at">fill =</span> <span class="st">"Capas"</span>,</span>
<span id="cb22-16"><a href="#cb22-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="fu">expression</span>(log[<span class="dv">10</span>]<span class="sc">~</span>(Abundancia<span class="sc">~</span>indv.<span class="sc">~</span>m<span class="sc">^-</span><span class="dv">3</span>))</span>
<span id="cb22-17"><a href="#cb22-17" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb22-18"><a href="#cb22-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>()<span class="sc">+</span></span>
<span id="cb22-19"><a href="#cb22-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb22-20"><a href="#cb22-20" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.grid.major =</span> <span class="fu">element_blank</span>(),  </span>
<span id="cb22-21"><a href="#cb22-21" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.grid.minor =</span> <span class="fu">element_blank</span>()</span>
<span id="cb22-22"><a href="#cb22-22" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="1_datos_files/figure-html/unnamed-chunk-19-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>La capa <code>facet_wrap()</code> permite incluir m√°s factores como el del ojo de malla usado para la colecta del plancton.</p>
<div class="cell">
<details>
<summary>C√≥digo</summary>
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readxl)</span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(forcats)  <span class="co"># Para manipulaci√≥n de factores</span></span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(viridis)</span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Cambiar etiquetas de Layers con recode_factor()</span></span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a>biol <span class="ot">&lt;-</span> </span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a>  biol <span class="sc">%&gt;%</span></span>
<span id="cb23-10"><a href="#cb23-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Layers =</span> <span class="fu">recode_factor</span>(Layers, </span>
<span id="cb23-11"><a href="#cb23-11" aria-hidden="true" tabindex="-1"></a>                                <span class="st">"Depth"</span> <span class="ot">=</span> <span class="st">"Profunda"</span>, </span>
<span id="cb23-12"><a href="#cb23-12" aria-hidden="true" tabindex="-1"></a>                                <span class="st">"Surface"</span> <span class="ot">=</span> <span class="st">"Superficial"</span>))</span>
<span id="cb23-13"><a href="#cb23-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-14"><a href="#cb23-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Crear gr√°fico con etiquetas de valores at√≠picos redondeados</span></span>
<span id="cb23-15"><a href="#cb23-15" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(biol, <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">factor</span>(Station), <span class="at">y =</span> Abundance)) <span class="sc">+</span> </span>
<span id="cb23-16"><a href="#cb23-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="fu">aes</span>(<span class="at">fill =</span> Layers)) <span class="sc">+</span></span>
<span id="cb23-17"><a href="#cb23-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb23-18"><a href="#cb23-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Estaciones"</span>, <span class="at">fill =</span> <span class="st">"Capas"</span>,</span>
<span id="cb23-19"><a href="#cb23-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="fu">expression</span>(log[<span class="dv">10</span>]<span class="sc">~</span>(Abundancia<span class="sc">~</span>indv.<span class="sc">~</span>m<span class="sc">^-</span><span class="dv">3</span>))</span>
<span id="cb23-20"><a href="#cb23-20" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb23-21"><a href="#cb23-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">trans =</span> <span class="st">"log10"</span>) <span class="sc">+</span>  <span class="co"># Aplicar la transformaci√≥n logar√≠tmica</span></span>
<span id="cb23-22"><a href="#cb23-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_viridis</span>(<span class="at">discrete =</span> <span class="cn">TRUE</span>) <span class="sc">+</span></span>
<span id="cb23-23"><a href="#cb23-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span> Size , <span class="at">nrow =</span> <span class="dv">1</span>, <span class="at">strip.position =</span> <span class="st">"top"</span>) <span class="sc">+</span> </span>
<span id="cb23-24"><a href="#cb23-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span></span>
<span id="cb23-25"><a href="#cb23-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb23-26"><a href="#cb23-26" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.grid.major =</span> <span class="fu">element_blank</span>(),  </span>
<span id="cb23-27"><a href="#cb23-27" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.grid.minor =</span> <span class="fu">element_blank</span>()</span>
<span id="cb23-28"><a href="#cb23-28" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="1_datos_files/figure-html/unnamed-chunk-20-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="callout-tip callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
üí° Principios de Visualizaci√≥n Ecol√≥gica
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li><strong>Claridad</strong>: Cada gr√°fico debe contar una historia espec√≠fica</li>
<li><strong>Contexto Ecol√≥gico</strong>: Usar colores que tengan sentido biol√≥gico</li>
<li><strong>Honestidad Estad√≠stica</strong>: Mostrar la variabilidad real de los datos</li>
<li><strong>Accesibilidad</strong>: Paletas de colores amigables para el lector</li>
</ul>
</div>
</div>
</section>
<section id="categorizar-una-variable-cont√≠nua-1" class="level4">
<h4 class="anchored" data-anchor-id="categorizar-una-variable-cont√≠nua-1">1.11 Categorizar una variable cont√≠nua</h4>
<p>En algunos casos, es √∫til transformar una variable continua en una categ√≥rica para facilitar la comparaci√≥n y visualizaci√≥n de datos. En este caso, convertimos <code>Salinity</code> en una variable categ√≥rica con tres niveles: <strong>‚ÄúBaja‚Äù, ‚ÄúMedia‚Äù y ‚ÄúAlta‚Äù</strong>.</p>
<section id="a.-m√©todo-basado-en-cuantiles" class="level5">
<h5 class="anchored" data-anchor-id="a.-m√©todo-basado-en-cuantiles">a.) M√©todo basado en cuantiles</h5>
<p>Este m√©todo divide la variable en tres partes iguales (terciles) utilizando los cuantiles de la distribuci√≥n. En el siguiente ejercicio se crea una variable categ√≥rica llamada <strong>Salinity_Level</strong>.</p>
<div class="cell">
<details>
<summary>C√≥digo</summary>
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>biol <span class="ot">&lt;-</span> </span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>  biol <span class="sc">%&gt;%</span></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Salinity_Level =</span> <span class="fu">case_when</span>(</span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>    Salinity <span class="sc">&lt;=</span> <span class="fu">quantile</span>(Salinity, <span class="dv">1</span><span class="sc">/</span><span class="dv">3</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>) <span class="sc">~</span> <span class="st">"Baja"</span>,</span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>    Salinity <span class="sc">&lt;=</span> <span class="fu">quantile</span>(Salinity, <span class="dv">2</span><span class="sc">/</span><span class="dv">3</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>) <span class="sc">~</span> <span class="st">"Media"</span>,</span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a>    Salinity <span class="sc">&lt;=</span> <span class="fu">quantile</span>(Salinity, <span class="dv">3</span><span class="sc">/</span><span class="dv">3</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>) <span class="sc">~</span> <span class="st">"Alta"</span></span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a>  ))</span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Se puede resumir el nivel alto por el comando "TRUE ~ "Alta"". </span></span>
<span id="cb24-9"><a href="#cb24-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-10"><a href="#cb24-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Validar distribuci√≥n</span></span>
<span id="cb24-11"><a href="#cb24-11" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(biol, <span class="dv">4</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb24-12"><a href="#cb24-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kbl</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb24-13"><a href="#cb24-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_classic</span>(<span class="at">full_width =</span> F)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">

<table class=" lightable-classic" style="font-family: &quot;Arial Narrow&quot;, &quot;Source Sans Pro&quot;, sans-serif; width: auto !important; margin-left: auto; margin-right: auto;">
 <thead>
  <tr>
   <th style="text-align:left;"> Station </th>
   <th style="text-align:left;"> Size </th>
   <th style="text-align:left;"> Layers </th>
   <th style="text-align:left;"> Groups </th>
   <th style="text-align:right;"> Abundance </th>
   <th style="text-align:right;"> Temperature </th>
   <th style="text-align:right;"> Salinity </th>
   <th style="text-align:right;"> Density </th>
   <th style="text-align:left;"> Abrev </th>
   <th style="text-align:left;"> Salinity_Level </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;"> 2 </td>
   <td style="text-align:left;"> 250 Œºm </td>
   <td style="text-align:left;"> Superficial </td>
   <td style="text-align:left;"> Quetognatos </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 30.29749 </td>
   <td style="text-align:right;"> 34.69981 </td>
   <td style="text-align:right;"> 21.417828 </td>
   <td style="text-align:left;"> Qtgn </td>
   <td style="text-align:left;"> Alta </td>
  </tr>
  <tr>
   <td style="text-align:left;"> 2 </td>
   <td style="text-align:left;"> 250 Œºm </td>
   <td style="text-align:left;"> Superficial </td>
   <td style="text-align:left;"> Sergestidae </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 29.40959 </td>
   <td style="text-align:right;"> 25.83323 </td>
   <td style="text-align:right;"> 15.085254 </td>
   <td style="text-align:left;"> Srgs </td>
   <td style="text-align:left;"> Baja </td>
  </tr>
  <tr>
   <td style="text-align:left;"> 2 </td>
   <td style="text-align:left;"> 250 Œºm </td>
   <td style="text-align:left;"> Superficial </td>
   <td style="text-align:left;"> Luciferidae </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 29.59008 </td>
   <td style="text-align:right;"> 12.38513 </td>
   <td style="text-align:right;"> 5.729643 </td>
   <td style="text-align:left;"> Lcfr </td>
   <td style="text-align:left;"> Baja </td>
  </tr>
  <tr>
   <td style="text-align:left;"> 2 </td>
   <td style="text-align:left;"> 250 Œºm </td>
   <td style="text-align:left;"> Superficial </td>
   <td style="text-align:left;"> Calanoida </td>
   <td style="text-align:right;"> 32 </td>
   <td style="text-align:right;"> 30.29749 </td>
   <td style="text-align:right;"> 34.69981 </td>
   <td style="text-align:right;"> 21.417828 </td>
   <td style="text-align:left;"> Clnd </td>
   <td style="text-align:left;"> Alta </td>
  </tr>
</tbody>
</table>

</div>
</div>
<div class="cell">
<details>
<summary>C√≥digo</summary>
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="do">#### **Distribuci√≥n de la Abundancia por Niveles de Salinidad**</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(biol, <span class="fu">aes</span>(<span class="at">x =</span> Salinity_Level, <span class="at">y =</span> Abundance)) <span class="sc">+</span></span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="fu">aes</span>(<span class="at">fill =</span> Salinity_Level)) <span class="sc">+</span></span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">trans =</span> <span class="st">"log10"</span>) <span class="sc">+</span>  <span class="co"># Aplicar la transformaci√≥n logar√≠tmica</span></span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">'#fc8d59'</span>,<span class="st">'#99d594'</span>,<span class="st">'#377eb8'</span>)) <span class="sc">+</span>  <span class="co"># Colores personalizados</span></span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Distribuci√≥n de la Abundancia por Niveles de Salinidad"</span>, </span>
<span id="cb25-8"><a href="#cb25-8" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Niveles de Salinidad"</span>, <span class="at">fill =</span> <span class="st">"Salinidad"</span>, </span>
<span id="cb25-9"><a href="#cb25-9" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="fu">expression</span>(log[<span class="dv">10</span>]<span class="sc">~</span>(Abundancia<span class="sc">~</span>indv.<span class="sc">~</span>m<span class="sc">^-</span><span class="dv">3</span>))</span>
<span id="cb25-10"><a href="#cb25-10" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb25-11"><a href="#cb25-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span></span>
<span id="cb25-12"><a href="#cb25-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb25-13"><a href="#cb25-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.grid.major =</span> <span class="fu">element_blank</span>(),  </span>
<span id="cb25-14"><a href="#cb25-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">panel.grid.minor =</span> <span class="fu">element_blank</span>()</span>
<span id="cb25-15"><a href="#cb25-15" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="1_datos_files/figure-html/unnamed-chunk-22-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="b.-m√©todo-basado-en-summary" class="level5">
<h5 class="anchored" data-anchor-id="b.-m√©todo-basado-en-summary">b.) M√©todo basado en <code>summary()</code></h5>
<p>Otra forma de categorizar <code>Salinity</code> es usar la funci√≥n <code>summary()</code> para obtener los valores clave de la variable y definir manualmente los rangos.</p>
<div class="cell">
<details>
<summary>C√≥digo</summary>
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(biol<span class="sc">$</span>Salinity)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
  12.39   25.83   31.04   28.50   33.81   35.03 </code></pre>
</div>
</div>
<p>Con base en estos valores, se puede definir los niveles de salinidad seg√∫n su distribuci√≥n:</p>
<div class="cell">
<details>
<summary>C√≥digo</summary>
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>biol <span class="ot">&lt;-</span> </span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>  biol <span class="sc">%&gt;%</span></span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Salinity_Level =</span> <span class="fu">case_when</span>(</span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>    Salinity <span class="sc">&lt;</span> <span class="dv">30</span> <span class="sc">~</span> <span class="st">"Baja"</span>,</span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a>    Salinity <span class="sc">&gt;=</span> <span class="dv">30</span> <span class="sc">&amp;</span> Salinity <span class="sc">&lt;</span> <span class="dv">35</span> <span class="sc">~</span> <span class="st">"Media"</span>,</span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a>    Salinity <span class="sc">&gt;=</span> <span class="dv">35</span> <span class="sc">~</span> <span class="st">"Alta"</span></span>
<span id="cb28-7"><a href="#cb28-7" aria-hidden="true" tabindex="-1"></a>  ))</span>
<span id="cb28-8"><a href="#cb28-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-9"><a href="#cb28-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Se puede resumir el nivel alto por el comando "TRUE ~ "Alta"". </span></span>
<span id="cb28-10"><a href="#cb28-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-11"><a href="#cb28-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Validar distribuci√≥n</span></span>
<span id="cb28-12"><a href="#cb28-12" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(biol, <span class="dv">4</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb28-13"><a href="#cb28-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kbl</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb28-14"><a href="#cb28-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_classic</span>(<span class="at">full_width =</span> F)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">

<table class=" lightable-classic" style="font-family: &quot;Arial Narrow&quot;, &quot;Source Sans Pro&quot;, sans-serif; width: auto !important; margin-left: auto; margin-right: auto;">
 <thead>
  <tr>
   <th style="text-align:left;"> Station </th>
   <th style="text-align:left;"> Size </th>
   <th style="text-align:left;"> Layers </th>
   <th style="text-align:left;"> Groups </th>
   <th style="text-align:right;"> Abundance </th>
   <th style="text-align:right;"> Temperature </th>
   <th style="text-align:right;"> Salinity </th>
   <th style="text-align:right;"> Density </th>
   <th style="text-align:left;"> Abrev </th>
   <th style="text-align:left;"> Salinity_Level </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;"> 2 </td>
   <td style="text-align:left;"> 250 Œºm </td>
   <td style="text-align:left;"> Superficial </td>
   <td style="text-align:left;"> Quetognatos </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 30.29749 </td>
   <td style="text-align:right;"> 34.69981 </td>
   <td style="text-align:right;"> 21.417828 </td>
   <td style="text-align:left;"> Qtgn </td>
   <td style="text-align:left;"> Media </td>
  </tr>
  <tr>
   <td style="text-align:left;"> 2 </td>
   <td style="text-align:left;"> 250 Œºm </td>
   <td style="text-align:left;"> Superficial </td>
   <td style="text-align:left;"> Sergestidae </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 29.40959 </td>
   <td style="text-align:right;"> 25.83323 </td>
   <td style="text-align:right;"> 15.085254 </td>
   <td style="text-align:left;"> Srgs </td>
   <td style="text-align:left;"> Baja </td>
  </tr>
  <tr>
   <td style="text-align:left;"> 2 </td>
   <td style="text-align:left;"> 250 Œºm </td>
   <td style="text-align:left;"> Superficial </td>
   <td style="text-align:left;"> Luciferidae </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 29.59008 </td>
   <td style="text-align:right;"> 12.38513 </td>
   <td style="text-align:right;"> 5.729643 </td>
   <td style="text-align:left;"> Lcfr </td>
   <td style="text-align:left;"> Baja </td>
  </tr>
  <tr>
   <td style="text-align:left;"> 2 </td>
   <td style="text-align:left;"> 250 Œºm </td>
   <td style="text-align:left;"> Superficial </td>
   <td style="text-align:left;"> Calanoida </td>
   <td style="text-align:right;"> 32 </td>
   <td style="text-align:right;"> 30.29749 </td>
   <td style="text-align:right;"> 34.69981 </td>
   <td style="text-align:right;"> 21.417828 </td>
   <td style="text-align:left;"> Clnd </td>
   <td style="text-align:left;"> Media </td>
  </tr>
</tbody>
</table>

</div>
</div>
<p>Este m√©todo permite una categorizaci√≥n m√°s detallada sobre los valores de corte, basado en informaci√≥n ambiental del lugar o de estudios previos.</p>
</section>
<section id="c.-m√©todo-basado-en-summarise" class="level5">
<h5 class="anchored" data-anchor-id="c.-m√©todo-basado-en-summarise">c.) M√©todo basado en <code>summarise()</code></h5>
<p>Primero se calcula el rango inter cuart√≠lico de la salinidad, junto a otras medidas de dispersi√≥n.</p>
<div class="cell">
<details>
<summary>C√≥digo</summary>
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Analizar distribuci√≥n de salinidad usando summarise()</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>resumen_salinidad <span class="ot">&lt;-</span> </span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>  biol <span class="sc">%&gt;%</span></span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">minimo  =</span> <span class="fu">min</span>(Salinity, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">q25     =</span> <span class="fu">quantile</span>(Salinity, <span class="fl">0.25</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb29-7"><a href="#cb29-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">mediana =</span> <span class="fu">median</span>(Salinity, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb29-8"><a href="#cb29-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">q75     =</span> <span class="fu">quantile</span>(Salinity, <span class="fl">0.75</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb29-9"><a href="#cb29-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">maximo  =</span> <span class="fu">max</span>(Salinity, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb29-10"><a href="#cb29-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">media   =</span> <span class="fu">mean</span>(Salinity, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb29-11"><a href="#cb29-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">sd      =</span> <span class="fu">sd</span>(Salinity, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb29-12"><a href="#cb29-12" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb29-13"><a href="#cb29-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-14"><a href="#cb29-14" aria-hidden="true" tabindex="-1"></a>resumen_salinidad <span class="sc">%&gt;%</span></span>
<span id="cb29-15"><a href="#cb29-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>(<span class="at">caption =</span> <span class="st">"Distribuci√≥n de salinidad"</span>, <span class="at">digits =</span> <span class="dv">2</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="table table-sm table-striped">
<caption>Distribuci√≥n de salinidad</caption>
<thead>
<tr class="header">
<th style="text-align: right;">minimo</th>
<th style="text-align: right;">q25</th>
<th style="text-align: right;">mediana</th>
<th style="text-align: right;">q75</th>
<th style="text-align: right;">maximo</th>
<th style="text-align: right;">media</th>
<th style="text-align: right;">sd</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">12.39</td>
<td style="text-align: right;">25.83</td>
<td style="text-align: right;">31.04</td>
<td style="text-align: right;">33.81</td>
<td style="text-align: right;">35.03</td>
<td style="text-align: right;">28.5</td>
<td style="text-align: right;">7.01</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>A continuaci√≥n se realiza una categorizaci√≥n ecol√≥gica, asociada a condiciones que pueden presentarse en ambientes estuarinos como el de este ejemplo con el plancton.</p>
<div class="cell">
<details>
<summary>C√≥digo</summary>
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Crear categor√≠as de salinidad usando mutate() y case_when()</span></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>biol_final <span class="ot">&lt;-</span> </span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a>  biol <span class="sc">%&gt;%</span></span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">salinidad_categoria =</span> <span class="fu">case_when</span>(</span>
<span id="cb30-6"><a href="#cb30-6" aria-hidden="true" tabindex="-1"></a>      Salinity <span class="sc">&lt;</span> <span class="dv">5</span> <span class="sc">~</span> <span class="st">"Dulce"</span>,</span>
<span id="cb30-7"><a href="#cb30-7" aria-hidden="true" tabindex="-1"></a>      Salinity <span class="sc">&lt;</span> <span class="dv">18</span> <span class="sc">~</span> <span class="st">"Oligohalina"</span>,</span>
<span id="cb30-8"><a href="#cb30-8" aria-hidden="true" tabindex="-1"></a>      Salinity <span class="sc">&lt;</span> <span class="dv">30</span> <span class="sc">~</span> <span class="st">"Mesohalina"</span>, </span>
<span id="cb30-9"><a href="#cb30-9" aria-hidden="true" tabindex="-1"></a>      Salinity <span class="sc">&lt;</span> <span class="dv">40</span> <span class="sc">~</span> <span class="st">"Polihalina"</span>,</span>
<span id="cb30-10"><a href="#cb30-10" aria-hidden="true" tabindex="-1"></a>      <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">"Euhalina"</span></span>
<span id="cb30-11"><a href="#cb30-11" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb30-12"><a href="#cb30-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">zona_estuarina =</span> <span class="fu">case_when</span>(</span>
<span id="cb30-13"><a href="#cb30-13" aria-hidden="true" tabindex="-1"></a>      Salinity <span class="sc">&lt;</span> <span class="dv">15</span> <span class="sc">~</span> <span class="st">"Zona Fluvial"</span>,</span>
<span id="cb30-14"><a href="#cb30-14" aria-hidden="true" tabindex="-1"></a>      Salinity <span class="sc">&lt;</span> <span class="dv">25</span> <span class="sc">~</span> <span class="st">"Zona de Mezcla"</span>,</span>
<span id="cb30-15"><a href="#cb30-15" aria-hidden="true" tabindex="-1"></a>      Salinity <span class="sc">&lt;</span> <span class="dv">35</span> <span class="sc">~</span> <span class="st">"Zona Marina"</span>,</span>
<span id="cb30-16"><a href="#cb30-16" aria-hidden="true" tabindex="-1"></a>      <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">"Zona Hipersalina"</span></span>
<span id="cb30-17"><a href="#cb30-17" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb30-18"><a href="#cb30-18" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb30-19"><a href="#cb30-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb30-20"><a href="#cb30-20" aria-hidden="true" tabindex="-1"></a>    <span class="at">salinidad_categoria =</span> <span class="fu">factor</span>(salinidad_categoria, </span>
<span id="cb30-21"><a href="#cb30-21" aria-hidden="true" tabindex="-1"></a>                                <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"Dulce"</span>, <span class="st">"Oligohalina"</span>, <span class="st">"Mesohalina"</span>, </span>
<span id="cb30-22"><a href="#cb30-22" aria-hidden="true" tabindex="-1"></a>                                          <span class="st">"Polihalina"</span>, <span class="st">"Euhalina"</span>),</span>
<span id="cb30-23"><a href="#cb30-23" aria-hidden="true" tabindex="-1"></a>                                <span class="at">ordered =</span> <span class="cn">TRUE</span>),</span>
<span id="cb30-24"><a href="#cb30-24" aria-hidden="true" tabindex="-1"></a>    <span class="at">zona_estuarina =</span> <span class="fu">factor</span>(zona_estuarina,</span>
<span id="cb30-25"><a href="#cb30-25" aria-hidden="true" tabindex="-1"></a>                           <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"Zona Fluvial"</span>, <span class="st">"Zona de Mezcla"</span>, </span>
<span id="cb30-26"><a href="#cb30-26" aria-hidden="true" tabindex="-1"></a>                                     <span class="st">"Zona Marina"</span>, <span class="st">"Zona Hipersalina"</span>),</span>
<span id="cb30-27"><a href="#cb30-27" aria-hidden="true" tabindex="-1"></a>                           <span class="at">ordered =</span> <span class="cn">TRUE</span>)</span>
<span id="cb30-28"><a href="#cb30-28" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb30-29"><a href="#cb30-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-30"><a href="#cb30-30" aria-hidden="true" tabindex="-1"></a><span class="co"># Validar distribuci√≥n</span></span>
<span id="cb30-31"><a href="#cb30-31" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(biol_final) <span class="sc">%&gt;%</span> </span>
<span id="cb30-32"><a href="#cb30-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kbl</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb30-33"><a href="#cb30-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_classic</span>(<span class="at">full_width =</span> F)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">

<table class=" lightable-classic" style="font-family: &quot;Arial Narrow&quot;, &quot;Source Sans Pro&quot;, sans-serif; width: auto !important; margin-left: auto; margin-right: auto;">
 <thead>
  <tr>
   <th style="text-align:left;"> Station </th>
   <th style="text-align:left;"> Size </th>
   <th style="text-align:left;"> Layers </th>
   <th style="text-align:left;"> Groups </th>
   <th style="text-align:right;"> Abundance </th>
   <th style="text-align:right;"> Temperature </th>
   <th style="text-align:right;"> Salinity </th>
   <th style="text-align:right;"> Density </th>
   <th style="text-align:left;"> Abrev </th>
   <th style="text-align:left;"> Salinity_Level </th>
   <th style="text-align:left;"> salinidad_categoria </th>
   <th style="text-align:left;"> zona_estuarina </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;"> 2 </td>
   <td style="text-align:left;"> 250 Œºm </td>
   <td style="text-align:left;"> Superficial </td>
   <td style="text-align:left;"> Quetognatos </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 30.29749 </td>
   <td style="text-align:right;"> 34.69981 </td>
   <td style="text-align:right;"> 21.417828 </td>
   <td style="text-align:left;"> Qtgn </td>
   <td style="text-align:left;"> Media </td>
   <td style="text-align:left;"> Polihalina </td>
   <td style="text-align:left;"> Zona Marina </td>
  </tr>
  <tr>
   <td style="text-align:left;"> 2 </td>
   <td style="text-align:left;"> 250 Œºm </td>
   <td style="text-align:left;"> Superficial </td>
   <td style="text-align:left;"> Sergestidae </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 29.40959 </td>
   <td style="text-align:right;"> 25.83323 </td>
   <td style="text-align:right;"> 15.085254 </td>
   <td style="text-align:left;"> Srgs </td>
   <td style="text-align:left;"> Baja </td>
   <td style="text-align:left;"> Mesohalina </td>
   <td style="text-align:left;"> Zona Marina </td>
  </tr>
  <tr>
   <td style="text-align:left;"> 2 </td>
   <td style="text-align:left;"> 250 Œºm </td>
   <td style="text-align:left;"> Superficial </td>
   <td style="text-align:left;"> Luciferidae </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 29.59008 </td>
   <td style="text-align:right;"> 12.38513 </td>
   <td style="text-align:right;"> 5.729643 </td>
   <td style="text-align:left;"> Lcfr </td>
   <td style="text-align:left;"> Baja </td>
   <td style="text-align:left;"> Oligohalina </td>
   <td style="text-align:left;"> Zona Fluvial </td>
  </tr>
  <tr>
   <td style="text-align:left;"> 2 </td>
   <td style="text-align:left;"> 250 Œºm </td>
   <td style="text-align:left;"> Superficial </td>
   <td style="text-align:left;"> Calanoida </td>
   <td style="text-align:right;"> 32 </td>
   <td style="text-align:right;"> 30.29749 </td>
   <td style="text-align:right;"> 34.69981 </td>
   <td style="text-align:right;"> 21.417828 </td>
   <td style="text-align:left;"> Clnd </td>
   <td style="text-align:left;"> Media </td>
   <td style="text-align:left;"> Polihalina </td>
   <td style="text-align:left;"> Zona Marina </td>
  </tr>
  <tr>
   <td style="text-align:left;"> 2 </td>
   <td style="text-align:left;"> 250 Œºm </td>
   <td style="text-align:left;"> Superficial </td>
   <td style="text-align:left;"> Cyclopoida </td>
   <td style="text-align:right;"> 4 </td>
   <td style="text-align:right;"> 29.40959 </td>
   <td style="text-align:right;"> 25.83323 </td>
   <td style="text-align:right;"> 15.085254 </td>
   <td style="text-align:left;"> Cycl </td>
   <td style="text-align:left;"> Baja </td>
   <td style="text-align:left;"> Mesohalina </td>
   <td style="text-align:left;"> Zona Marina </td>
  </tr>
  <tr>
   <td style="text-align:left;"> 2 </td>
   <td style="text-align:left;"> 250 Œºm </td>
   <td style="text-align:left;"> Superficial </td>
   <td style="text-align:left;"> Harpacticoida </td>
   <td style="text-align:right;"> 2 </td>
   <td style="text-align:right;"> 29.59008 </td>
   <td style="text-align:right;"> 12.38513 </td>
   <td style="text-align:right;"> 5.729643 </td>
   <td style="text-align:left;"> Hrpc </td>
   <td style="text-align:left;"> Baja </td>
   <td style="text-align:left;"> Oligohalina </td>
   <td style="text-align:left;"> Zona Fluvial </td>
  </tr>
</tbody>
</table>

</div>
</div>
<p>Tambi√©n se puede incluir una tabla de frecuencias o de validaci√≥n cruzada en la que se relacionen los individuos censados en cada categor√≠a de salinidad.</p>
<div class="cell">
<details>
<summary>C√≥digo</summary>
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Mostrar distribuci√≥n de categor√≠as</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>biol_final <span class="sc">%&gt;%</span></span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(salinidad_categoria, zona_estuarina) <span class="sc">%&gt;%</span></span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> zona_estuarina, </span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a>              <span class="at">values_from =</span> n, </span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a>              <span class="at">values_fill =</span> <span class="dv">0</span>) <span class="sc">%&gt;%</span></span>
<span id="cb31-7"><a href="#cb31-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>(<span class="at">caption =</span> <span class="st">"Distribuci√≥n cruzada de categor√≠as de salinidad"</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="table table-sm table-striped">
<caption>Distribuci√≥n cruzada de categor√≠as de salinidad</caption>
<colgroup>
<col style="width: 25%">
<col style="width: 16%">
<col style="width: 19%">
<col style="width: 15%">
<col style="width: 22%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">salinidad_categoria</th>
<th style="text-align: right;">Zona Fluvial</th>
<th style="text-align: right;">Zona de Mezcla</th>
<th style="text-align: right;">Zona Marina</th>
<th style="text-align: right;">Zona Hipersalina</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Oligohalina</td>
<td style="text-align: right;">54</td>
<td style="text-align: right;">26</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td style="text-align: left;">Mesohalina</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">28</td>
<td style="text-align: right;">85</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Polihalina</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">301</td>
<td style="text-align: right;">4</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="callout-warning callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
‚ö†Ô∏è Consideraciones al Categorizar Variables Continuas
</div>
</div>
<div class="callout-body-container callout-body">
<p><strong>Ventajas</strong>: Simplifica interpretaciones y facilita an√°lisis categ√≥ricos</p>
<p><strong>Desventajas</strong>: Puede generar p√©rdida de informaci√≥n e introducir discontinuidades artificiales</p>
<p><strong>Mejores Pr√°cticas</strong>: Usar criterios ecol√≥gicos establecidos y mantener tambi√©n la variable continua original</p>
</div>
</div>
<hr>
</section>
</section>
</section>
<section id="cuestionario-1" class="level2">
<h2 class="anchored" data-anchor-id="cuestionario-1">üìù Cuestionario</h2>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Nota
</div>
</div>
<div class="callout-body-container callout-body">
<p><strong>Instrucciones</strong>: Responde cada pregunta usando el c√≥digo y los resultados obtenidos en los ejercicios anteriores.</p>
</div>
</div>
<div class="cell">
<details>
<summary>C√≥digo</summary>
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Cargar datos desde Excel</span></span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>biol <span class="ot">&lt;-</span> <span class="fu">read_xlsx</span>(<span class="st">"plancton.xlsx"</span>, <span class="at">sheet =</span> <span class="st">"Riqueza"</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<section id="exploraci√≥n-de-datos" class="level4">
<h4 class="anchored" data-anchor-id="exploraci√≥n-de-datos">1. Exploraci√≥n de datos</h4>
<p><strong>Pregunta:</strong> ¬øCu√°ntas observaciones hay por cada categor√≠a de <code>Size</code>?</p>
<p><strong>Pregunta:</strong> ¬øCu√°ntas observaciones hay por cada <code>Size</code> y <code>Layers</code>?</p>
</section>
<section id="filtrado-condicional" class="level4">
<h4 class="anchored" data-anchor-id="filtrado-condicional">2. Filtrado condicional</h4>
<p><strong>Pregunta:</strong> Encuentra todas las <strong>observaciones</strong> donde la <strong>salinidad</strong> (<code>Salinity</code>) es <strong>mayor a 35</strong>.</p>
</section>
<section id="creaci√≥n-de-variables" class="level4">
<h4 class="anchored" data-anchor-id="creaci√≥n-de-variables">3. Creaci√≥n de variables</h4>
<p><strong>Pregunta:</strong> Calcula una nueva variable que sea la relaci√≥n entre <code>Density</code> y <code>Temperature</code>.</p>
<p><strong>Pregunta:</strong> Calcula una <strong>nueva variable</strong> con la relaci√≥n entre <code>Abundance</code> y <code>Density</code>.</p>
</section>
<section id="resumen-estad√≠stico" class="level4">
<h4 class="anchored" data-anchor-id="resumen-estad√≠stico">4. Resumen estad√≠stico</h4>
<p><strong>Pregunta:</strong> Calcula los valores m√°ximos, m√≠nimos, la mediana, el rango y el coeficiente de variaci√≥n de <code>abundancia</code> por cada combinaci√≥n de <code>Size</code> y <code>Layers</code>.</p>
</section>
<section id="transformaci√≥n-de-datos-2" class="level4">
<h4 class="anchored" data-anchor-id="transformaci√≥n-de-datos-2">5. Transformaci√≥n de datos</h4>
<p><strong>Pregunta:</strong> Convierte los <strong>datos</strong> a <strong>formato largo</strong>.</p>
<p><strong>Pregunta:</strong> Convierte los <strong>datos ambientales</strong> (<code>Temperature</code>, <code>Salinity</code>, <code>Density</code>) a <strong>formato largo</strong>.</p>
</section>
<section id="visualizaci√≥n-de-una-relaci√≥n-de-variables" class="level4">
<h4 class="anchored" data-anchor-id="visualizaci√≥n-de-una-relaci√≥n-de-variables">6. Visualizaci√≥n de una relaci√≥n de variables</h4>
<p><strong>Pregunta:</strong> Crea un gr√°fico de dispersi√≥n donde el eje X sea la salinidad (<code>Salinity</code>) y el eje Y la temperatura (<code>Temperature</code>), diferenciando por <code>Layers</code>.</p>
</section>
<section id="visualizaci√≥n-de-una-variable-categorizada" class="level4">
<h4 class="anchored" data-anchor-id="visualizaci√≥n-de-una-variable-categorizada">7. Visualizaci√≥n de una variable categorizada</h4>
<p><strong>Pregunta:</strong> Categoriza a la temperatura en tres niveles y visualizar su relaci√≥n con la abundancia.</p>
<section id="paso-1-categorizar-la-temperatura" class="level5">
<h5 class="anchored" data-anchor-id="paso-1-categorizar-la-temperatura">Paso 1: Categorizar la Temperatura</h5>
<p><strong>Pregunta:</strong> Utilizar cuantiles, transformamos <code>Temperature</code> en tres niveles: <strong>Baja, Media y Alta</strong>.</p>
</section>
<section id="paso-2-visualizar-la-relaci√≥n-entre-temperatura-y-abundancia" class="level5">
<h5 class="anchored" data-anchor-id="paso-2-visualizar-la-relaci√≥n-entre-temperatura-y-abundancia">Paso 2: Visualizar la Relaci√≥n entre Temperatura y Abundancia</h5>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
üìù Cuestionario Reflexivo
</div>
</div>
<div class="callout-body-container callout-body">
<p><strong>Preguntas de Comprensi√≥n T√©cnica:</strong></p>
<ol type="1">
<li><p>¬øCu√°l es la diferencia pr√°ctica entre usar <code>select()</code> y <code>filter()</code> en un an√°lisis ecol√≥gico?</p></li>
<li><p>¬øPor qu√© es com√∫n usar transformaci√≥n logar√≠tmica en datos de abundancia de plancton?</p></li>
<li><p>¬øQu√© informaci√≥n ecol√≥gica puedes extraer de la abundancia media vs.&nbsp;la abundancia total por grupo?</p></li>
</ol>
<p><strong>Preguntas de Interpretaci√≥n Ecol√≥gica:</strong></p>
<ol start="4" type="1">
<li><p>Bas√°ndote en los an√°lisis realizados, ¬øqu√© estaciones parecen m√°s diversas y por qu√©?</p></li>
<li><p>¬øQu√© grupos taxon√≥micos parecen m√°s tolerantes a variaciones de temperatura y salinidad?</p></li>
<li><p>¬øQu√© implica ecol√≥gicamente que pocos grupos representen la mayor parte de la abundancia total?</p></li>
</ol>
<p><strong>Preguntas de Aplicaci√≥n Pr√°ctica:</strong></p>
<ol start="7" type="1">
<li><p>Si tuvieras que dise√±ar un programa de monitoreo de este estuario, ¬øqu√© grupos y variables priorizar√≠as?</p></li>
<li><p>Considerando los patrones de temperatura observados, ¬øc√≥mo podr√≠a el calentamiento global afectar esta comunidad planct√≥nica?</p></li>
</ol>
<p><strong>Pregunta de S√≠ntesis:</strong></p>
<ol start="9" type="1">
<li>Imagina que eres consultor ambiental y debes evaluar el estado ecol√≥gico de este estuario. Usando los an√°lisis realizados, redacta un p√°rrafo que resuma los hallazgos principales.</li>
</ol>
</div>
</div>
<hr>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Nota
</div>
</div>
<div class="callout-body-container callout-body">
<p><strong>Instrucciones</strong>: Segundo ejercicio en donde se contextualiza a cada procedimiento realizado.</p>
</div>
</div>
<hr>
</section>
</section>
</section>
<section id="b.-fundamentos-de-manipulaci√≥n-de-datos-caso-invertebrados" class="level2">
<h2 class="anchored" data-anchor-id="b.-fundamentos-de-manipulaci√≥n-de-datos-caso-invertebrados">B. Fundamentos de manipulaci√≥n de datos (Caso invertebrados)</h2>
<p><img src="Imagen1.png" class="img-fluid" width="593"></p>
<hr>
<section id="resumen-1" class="level4">
<h4 class="anchored" data-anchor-id="resumen-1">Resumen</h4>
<p>Este segundo caso trabaja con macroinvertebrados acu√°ticos y variables fisicoqu√≠micas del r√≠o Gaira (Santa Marta), registradas en condiciones naturales mediante muestreo estandarizado por h√°bitats. A diferencia del caso de plancton, esta base est√° organizada en tres hojas del archivo <code>invert.xlsx</code>: <code>Taxones1</code>, <code>Taxones2</code> y <code>fqu√≠micos</code>.</p>
<ul>
<li><strong><code>Taxones1</code></strong> contiene datos detallados por tipo de microh√°bitat (arena, grava, hoja, etc.) y estaci√≥n de muestreo.</li>
<li><strong><code>Taxones2</code></strong> presenta los datos resumidos por estaci√≥n.</li>
<li><strong><code>fqu√≠micos</code></strong> incluye variables ambientales como ox√≠geno disuelto, amonio, nitratos, temperatura, velocidad, pH, entre otras.</li>
</ul>
<p>Estas bases permiten aplicar herramientas de filtrado, transformaci√≥n, uni√≥n de datos, categorizaci√≥n y visualizaci√≥n, con un enfoque orientado a describir patrones ecol√≥gicos e interpretar relaciones entre comunidad bi√≥tica y ambiente.</p>
<hr>
</section>
<section id="lectura-de-bases-de-datos-y-cargar-paquetes-1" class="level4">
<h4 class="anchored" data-anchor-id="lectura-de-bases-de-datos-y-cargar-paquetes-1">Lectura de bases de datos y cargar paquetes</h4>
<div class="cell">
<details>
<summary>C√≥digo</summary>
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Cargar las librer√≠as necesarias para la manipulaci√≥n y visualizaci√≥n de datos.</span></span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a><span class="co"># `tidyverse` es una colecci√≥n de paquetes de R dise√±ados para la ciencia de datos,</span></span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a><span class="co"># que incluye `dplyr` para manipulaci√≥n de datos y `ggplot2` para visualizaci√≥n.</span></span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a><span class="co"># `readxl` es necesario para leer archivos `.xlsx`.</span></span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Cargar las librer√≠as necesarias para la manipulaci√≥n de datos de invertebrados.</span></span>
<span id="cb33-6"><a href="#cb33-6" aria-hidden="true" tabindex="-1"></a><span class="co"># `tidyverse` para manipulaci√≥n general, `readxl` para leer archivos Excel,</span></span>
<span id="cb33-7"><a href="#cb33-7" aria-hidden="true" tabindex="-1"></a><span class="co"># `janitor` para limpiar nombres de columnas y `stringr` para manipulaci√≥n de cadenas de texto.</span></span>
<span id="cb33-8"><a href="#cb33-8" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb33-9"><a href="#cb33-9" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readxl)</span>
<span id="cb33-10"><a href="#cb33-10" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(janitor)</span>
<span id="cb33-11"><a href="#cb33-11" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(stringr)</span>
<span id="cb33-12"><a href="#cb33-12" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(kableExtra)</span>
<span id="cb33-13"><a href="#cb33-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-14"><a href="#cb33-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Cargar datos desde Excel. Aseg√∫rate de que invert.xlsx est√© en el directorio correcto.</span></span>
<span id="cb33-15"><a href="#cb33-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Se cargan tres hojas diferentes del mismo archivo Excel en dataframes separados.</span></span>
<span id="cb33-16"><a href="#cb33-16" aria-hidden="true" tabindex="-1"></a>inv1 <span class="ot">&lt;-</span> <span class="fu">read_xlsx</span>(<span class="st">"invert.xlsx"</span>, <span class="at">sheet =</span> <span class="st">"Taxones1"</span>) </span>
<span id="cb33-17"><a href="#cb33-17" aria-hidden="true" tabindex="-1"></a>inv2 <span class="ot">&lt;-</span> <span class="fu">read_xlsx</span>(<span class="st">"invert.xlsx"</span>, <span class="at">sheet =</span> <span class="st">"Taxones2"</span>) </span>
<span id="cb33-18"><a href="#cb33-18" aria-hidden="true" tabindex="-1"></a>fq   <span class="ot">&lt;-</span> <span class="fu">read_xlsx</span>(<span class="st">"invert.xlsx"</span>, <span class="at">sheet =</span> <span class="st">"fqu√≠micos"</span>) </span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<hr>
</section>
<section id="selecci√≥n-y-filtrado-2" class="level4">
<h4 class="anchored" data-anchor-id="selecci√≥n-y-filtrado-2">1.1 Selecci√≥n y filtrado</h4>
<p><code>select</code> permite escoger columnas espec√≠ficas, mientras que <code>filter</code> se usa para seleccionar filas seg√∫n condiciones.</p>
<div class="cell">
<details>
<summary>C√≥digo</summary>
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Seleccionar columnas espec√≠ficas: `select()` elige las columnas por nombre.</span></span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>inv1a <span class="ot">&lt;-</span></span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a>inv1 <span class="sc">%&gt;%</span></span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Sitio, Baetidae, Belidae, Chironomidae)</span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-6"><a href="#cb34-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Se muestra a las primeras filas del dataframe filtrado para verificar el resultado.</span></span>
<span id="cb34-7"><a href="#cb34-7" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(inv1a, <span class="dv">4</span>) <span class="sc">%&gt;%</span></span>
<span id="cb34-8"><a href="#cb34-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kbl</span>() <span class="sc">%&gt;%</span></span>
<span id="cb34-9"><a href="#cb34-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_classic</span>(<span class="at">full_width =</span> F)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">

<table class=" lightable-classic" style="font-family: &quot;Arial Narrow&quot;, &quot;Source Sans Pro&quot;, sans-serif; width: auto !important; margin-left: auto; margin-right: auto;">
 <thead>
  <tr>
   <th style="text-align:left;"> Sitio </th>
   <th style="text-align:right;"> Baetidae </th>
   <th style="text-align:right;"> Belidae </th>
   <th style="text-align:right;"> Chironomidae </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;"> Arimaca </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 2 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Arimaca </td>
   <td style="text-align:right;"> 14 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Arimaca </td>
   <td style="text-align:right;"> 31 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 1 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Caracoli </td>
   <td style="text-align:right;"> 3 </td>
   <td style="text-align:right;"> 2 </td>
   <td style="text-align:right;"> 1 </td>
  </tr>
</tbody>
</table>

</div>
<details>
<summary>C√≥digo</summary>
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Filtrar filas: `filter()` selecciona filas bas√°ndose en una condici√≥n.</span></span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Aqu√≠, se excluyen las filas donde el `Sitio` es "Caracoli".</span></span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a>inv2a <span class="ot">&lt;-</span></span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a>inv2 <span class="sc">%&gt;%</span></span>
<span id="cb35-5"><a href="#cb35-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Sitio <span class="sc">!=</span> <span class="st">"Caracoli"</span>)</span>
<span id="cb35-6"><a href="#cb35-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-7"><a href="#cb35-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Se muestra a las primeras filas del dataframe filtrado para verificar el resultado.</span></span>
<span id="cb35-8"><a href="#cb35-8" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(inv2a, <span class="dv">4</span>) <span class="sc">%&gt;%</span></span>
<span id="cb35-9"><a href="#cb35-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kbl</span>() <span class="sc">%&gt;%</span></span>
<span id="cb35-10"><a href="#cb35-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_classic</span>(<span class="at">full_width =</span> F)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">

<table class=" lightable-classic" style="font-family: &quot;Arial Narrow&quot;, &quot;Source Sans Pro&quot;, sans-serif; width: auto !important; margin-left: auto; margin-right: auto;">
 <thead>
  <tr>
   <th style="text-align:left;"> Sitio </th>
   <th style="text-align:right;"> Baetidae </th>
   <th style="text-align:right;"> Belidae </th>
   <th style="text-align:right;"> Blephariceridae </th>
   <th style="text-align:right;"> Calopterygidae </th>
   <th style="text-align:right;"> Ceratopogonidae </th>
   <th style="text-align:right;"> Chironomidae </th>
   <th style="text-align:right;"> Coenagrionidae </th>
   <th style="text-align:right;"> Corydalidae </th>
   <th style="text-align:right;"> Crambidae </th>
   <th style="text-align:right;"> Dixidae </th>
   <th style="text-align:right;"> Dugesiidae </th>
   <th style="text-align:right;"> Elmidae </th>
   <th style="text-align:right;"> Empididae </th>
   <th style="text-align:right;"> Gomphidae </th>
   <th style="text-align:right;"> Hydrobiidae </th>
   <th style="text-align:right;"> Hydropsychidae </th>
   <th style="text-align:right;"> Leptoceridae </th>
   <th style="text-align:right;"> Leptohyphidae </th>
   <th style="text-align:right;"> Leptophlebiidae </th>
   <th style="text-align:right;"> Libellulidae </th>
   <th style="text-align:right;"> Limnesiidae </th>
   <th style="text-align:right;"> Lumbriculidae </th>
   <th style="text-align:right;"> Naucoridae </th>
   <th style="text-align:right;"> Oligoneuriidae </th>
   <th style="text-align:right;"> Perlidae </th>
   <th style="text-align:right;"> Psephenidae </th>
   <th style="text-align:right;"> Psychodidae </th>
   <th style="text-align:right;"> Ptilodactylidae </th>
   <th style="text-align:right;"> Simuliidae </th>
   <th style="text-align:right;"> Tipulidae </th>
   <th style="text-align:right;"> Veliidae </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;"> Arimaca </td>
   <td style="text-align:right;"> 45 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 3 </td>
   <td style="text-align:right;"> 3 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 23 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 4 </td>
   <td style="text-align:right;"> 3 </td>
   <td style="text-align:right;"> 4 </td>
   <td style="text-align:right;"> 5 </td>
   <td style="text-align:right;"> 17 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 2 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 6 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 18 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 2 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Pozo Azul </td>
   <td style="text-align:right;"> 95 </td>
   <td style="text-align:right;"> 2 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 19 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 10 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 65 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 7 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 15 </td>
   <td style="text-align:right;"> 41 </td>
   <td style="text-align:right;"> 6 </td>
   <td style="text-align:right;"> 49 </td>
   <td style="text-align:right;"> 29 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 5 </td>
   <td style="text-align:right;"> 21 </td>
   <td style="text-align:right;"> 5 </td>
   <td style="text-align:right;"> 69 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 9 </td>
   <td style="text-align:right;"> 17 </td>
   <td style="text-align:right;"> 3 </td>
   <td style="text-align:right;"> 34 </td>
  </tr>
</tbody>
</table>

</div>
</div>
<hr>
</section>
<section id="creaci√≥n-de-nuevas-variables-2" class="level4">
<h4 class="anchored" data-anchor-id="creaci√≥n-de-nuevas-variables-2">1.2 Creaci√≥n de nuevas variables</h4>
<p><code>mutate</code> se usa para generar nuevas variables derivadas de otras columnas.</p>
<div class="cell">
<details>
<summary>C√≥digo</summary>
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Crear una nueva variable `Abundancia`:</span></span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a><span class="co"># `mutate()` a√±ade una nueva columna `Abundancia` al dataframe `inv1`.</span></span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a><span class="co"># `rowSums(across(c(-Sitio,-Microh,-Total)))` calcula la suma de las filas</span></span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a><span class="co"># para todas las columnas excepto `Sitio`, `Microh` y `Total`, asumiendo que el resto son taxones.</span></span>
<span id="cb36-5"><a href="#cb36-5" aria-hidden="true" tabindex="-1"></a>inv1 <span class="ot">&lt;-</span></span>
<span id="cb36-6"><a href="#cb36-6" aria-hidden="true" tabindex="-1"></a>  inv1 <span class="sc">%&gt;%</span></span>
<span id="cb36-7"><a href="#cb36-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Abundancia =</span> <span class="fu">rowSums</span>(<span class="fu">across</span>(<span class="fu">c</span>(<span class="sc">-</span>Sitio,<span class="sc">-</span>Microh,<span class="sc">-</span>Total))))</span>
<span id="cb36-8"><a href="#cb36-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-9"><a href="#cb36-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Se muestra a las primeras filas del dataframe filtrado para verificar el resultado.</span></span>
<span id="cb36-10"><a href="#cb36-10" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(inv1, <span class="dv">4</span>) <span class="sc">%&gt;%</span></span>
<span id="cb36-11"><a href="#cb36-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kbl</span>() <span class="sc">%&gt;%</span></span>
<span id="cb36-12"><a href="#cb36-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_classic</span>(<span class="at">full_width =</span> F)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">

<table class=" lightable-classic" style="font-family: &quot;Arial Narrow&quot;, &quot;Source Sans Pro&quot;, sans-serif; width: auto !important; margin-left: auto; margin-right: auto;">
 <thead>
  <tr>
   <th style="text-align:left;"> Sitio </th>
   <th style="text-align:left;"> Microh </th>
   <th style="text-align:right;"> Baetidae </th>
   <th style="text-align:right;"> Belidae </th>
   <th style="text-align:right;"> Blephariceridae </th>
   <th style="text-align:right;"> Calopterygidae </th>
   <th style="text-align:right;"> Ceratopogonidae </th>
   <th style="text-align:right;"> Chironomidae </th>
   <th style="text-align:right;"> Coenagrionidae </th>
   <th style="text-align:right;"> Corydalidae </th>
   <th style="text-align:right;"> Crambidae </th>
   <th style="text-align:right;"> Dixidae </th>
   <th style="text-align:right;"> Dugesiidae </th>
   <th style="text-align:right;"> Elmidae </th>
   <th style="text-align:right;"> Empididae </th>
   <th style="text-align:right;"> Gomphidae </th>
   <th style="text-align:right;"> Hydrobiidae </th>
   <th style="text-align:right;"> Hydropsychidae </th>
   <th style="text-align:right;"> Leptoceridae </th>
   <th style="text-align:right;"> Leptohyphidae </th>
   <th style="text-align:right;"> Leptophlebiidae </th>
   <th style="text-align:right;"> Libellulidae </th>
   <th style="text-align:right;"> Limnesiidae </th>
   <th style="text-align:right;"> Lumbriculidae </th>
   <th style="text-align:right;"> Naucoridae </th>
   <th style="text-align:right;"> Oligoneuriidae </th>
   <th style="text-align:right;"> Perlidae </th>
   <th style="text-align:right;"> Psephenidae </th>
   <th style="text-align:right;"> Psychodidae </th>
   <th style="text-align:right;"> Ptilodactylidae </th>
   <th style="text-align:right;"> Simuliidae </th>
   <th style="text-align:right;"> Tipulidae </th>
   <th style="text-align:right;"> Veliidae </th>
   <th style="text-align:right;"> Total </th>
   <th style="text-align:right;"> Abundancia </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;"> Arimaca </td>
   <td style="text-align:left;"> Arena </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 2 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 2 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 2 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 8 </td>
   <td style="text-align:right;"> 8 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Arimaca </td>
   <td style="text-align:left;"> Grava </td>
   <td style="text-align:right;"> 14 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 3 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 11 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 4 </td>
   <td style="text-align:right;"> 3 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 13 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 2 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 5 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 5 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 63 </td>
   <td style="text-align:right;"> 63 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Arimaca </td>
   <td style="text-align:left;"> Hoja </td>
   <td style="text-align:right;"> 31 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 10 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 2 </td>
   <td style="text-align:right;"> 5 </td>
   <td style="text-align:right;"> 4 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 13 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 2 </td>
   <td style="text-align:right;"> 70 </td>
   <td style="text-align:right;"> 70 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Caracoli </td>
   <td style="text-align:left;"> Arena </td>
   <td style="text-align:right;"> 3 </td>
   <td style="text-align:right;"> 2 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 12 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 2 </td>
   <td style="text-align:right;"> 3 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 7 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 5 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 37 </td>
   <td style="text-align:right;"> 37 </td>
  </tr>
</tbody>
</table>

</div>
</div>
<hr>
</section>
<section id="resumen-estad√≠stico-de-datos-agrupados-2" class="level4">
<h4 class="anchored" data-anchor-id="resumen-estad√≠stico-de-datos-agrupados-2">1.3 Resumen estad√≠stico de datos agrupados</h4>
<p>Se agrupan los datos por sitio (Sitio) y se calcula la abundancia promedio por sitio usando la suma de las columnas taxon√≥micas. <code>group_by</code> permite agrupar datos seg√∫n categor√≠as para luego aplicar funciones resumen como <code>mean()</code>, <code>sd()</code>, ‚Ä¶.</p>
<div class="cell">
<details>
<summary>C√≥digo</summary>
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Agrupar por `Sitio` y calcular la abundancia promedio:</span></span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a><span class="co"># `group_by(Sitio)` agrupa el dataframe `inv1` por la columna `Sitio`.</span></span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a><span class="co"># `summarise(prom_abundancia = mean(Total, na.rm = TRUE))` calcula la media de la columna `Total`</span></span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a><span class="co"># (que representa la abundancia total) para cada grupo de `Sitio`, ignorando los valores NA.</span></span>
<span id="cb37-5"><a href="#cb37-5" aria-hidden="true" tabindex="-1"></a>inv1b <span class="ot">&lt;-</span></span>
<span id="cb37-6"><a href="#cb37-6" aria-hidden="true" tabindex="-1"></a>inv1 <span class="sc">%&gt;%</span></span>
<span id="cb37-7"><a href="#cb37-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Sitio) <span class="sc">%&gt;%</span></span>
<span id="cb37-8"><a href="#cb37-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">prom_abundancia =</span> <span class="fu">mean</span>(Total, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span>
<span id="cb37-9"><a href="#cb37-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-10"><a href="#cb37-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Se muestra a las primeras filas del dataframe filtrado para verificar el resultado.</span></span>
<span id="cb37-11"><a href="#cb37-11" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(inv1b, <span class="dv">4</span>) <span class="sc">%&gt;%</span></span>
<span id="cb37-12"><a href="#cb37-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kbl</span>() <span class="sc">%&gt;%</span></span>
<span id="cb37-13"><a href="#cb37-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_classic</span>(<span class="at">full_width =</span> F)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">

<table class=" lightable-classic" style="font-family: &quot;Arial Narrow&quot;, &quot;Source Sans Pro&quot;, sans-serif; width: auto !important; margin-left: auto; margin-right: auto;">
 <thead>
  <tr>
   <th style="text-align:left;"> Sitio </th>
   <th style="text-align:right;"> prom_abundancia </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;"> Arimaca </td>
   <td style="text-align:right;"> 47.00000 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Caracoli </td>
   <td style="text-align:right;"> 66.33333 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> PozoAzul </td>
   <td style="text-align:right;"> 170.00000 </td>
  </tr>
</tbody>
</table>

</div>
</div>
<hr>
</section>
<section id="transformaci√≥n-de-datos-3" class="level4">
<h4 class="anchored" data-anchor-id="transformaci√≥n-de-datos-3">1.4 Transformaci√≥n de datos</h4>
<p>Se aplica transformaci√≥n logar√≠tmica log(x+1) a las columnas num√©ricas (excepto Sitio) para estabilizar la varianza y normalizar las distribuciones.</p>
<div class="cell">
<details>
<summary>C√≥digo</summary>
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Aplicar transformaci√≥n logar√≠tmica a las columnas num√©ricas:</span></span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a><span class="co"># `mutate(across(-Sitio, log1p))` aplica la funci√≥n `log1p` (log(x+1)) a todas las columnas</span></span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a><span class="co"># excepto `Sitio`. Esta transformaci√≥n es √∫til para datos con distribuciones sesgadas,</span></span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a><span class="co"># como las abundancias, para hacerlas m√°s normales y reducir la influencia de valores extremos.</span></span>
<span id="cb38-5"><a href="#cb38-5" aria-hidden="true" tabindex="-1"></a>inv2_log <span class="ot">&lt;-</span></span>
<span id="cb38-6"><a href="#cb38-6" aria-hidden="true" tabindex="-1"></a>  inv2 <span class="sc">%&gt;%</span></span>
<span id="cb38-7"><a href="#cb38-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="sc">-</span>Sitio, log1p))</span>
<span id="cb38-8"><a href="#cb38-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-9"><a href="#cb38-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Se muestra a las primeras filas del dataframe filtrado para verificar el resultado.</span></span>
<span id="cb38-10"><a href="#cb38-10" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(inv2_log, <span class="dv">4</span>) <span class="sc">%&gt;%</span></span>
<span id="cb38-11"><a href="#cb38-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kbl</span>() <span class="sc">%&gt;%</span></span>
<span id="cb38-12"><a href="#cb38-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_classic</span>(<span class="at">full_width =</span> F)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">

<table class=" lightable-classic" style="font-family: &quot;Arial Narrow&quot;, &quot;Source Sans Pro&quot;, sans-serif; width: auto !important; margin-left: auto; margin-right: auto;">
 <thead>
  <tr>
   <th style="text-align:left;"> Sitio </th>
   <th style="text-align:right;"> Baetidae </th>
   <th style="text-align:right;"> Belidae </th>
   <th style="text-align:right;"> Blephariceridae </th>
   <th style="text-align:right;"> Calopterygidae </th>
   <th style="text-align:right;"> Ceratopogonidae </th>
   <th style="text-align:right;"> Chironomidae </th>
   <th style="text-align:right;"> Coenagrionidae </th>
   <th style="text-align:right;"> Corydalidae </th>
   <th style="text-align:right;"> Crambidae </th>
   <th style="text-align:right;"> Dixidae </th>
   <th style="text-align:right;"> Dugesiidae </th>
   <th style="text-align:right;"> Elmidae </th>
   <th style="text-align:right;"> Empididae </th>
   <th style="text-align:right;"> Gomphidae </th>
   <th style="text-align:right;"> Hydrobiidae </th>
   <th style="text-align:right;"> Hydropsychidae </th>
   <th style="text-align:right;"> Leptoceridae </th>
   <th style="text-align:right;"> Leptohyphidae </th>
   <th style="text-align:right;"> Leptophlebiidae </th>
   <th style="text-align:right;"> Libellulidae </th>
   <th style="text-align:right;"> Limnesiidae </th>
   <th style="text-align:right;"> Lumbriculidae </th>
   <th style="text-align:right;"> Naucoridae </th>
   <th style="text-align:right;"> Oligoneuriidae </th>
   <th style="text-align:right;"> Perlidae </th>
   <th style="text-align:right;"> Psephenidae </th>
   <th style="text-align:right;"> Psychodidae </th>
   <th style="text-align:right;"> Ptilodactylidae </th>
   <th style="text-align:right;"> Simuliidae </th>
   <th style="text-align:right;"> Tipulidae </th>
   <th style="text-align:right;"> Veliidae </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;"> Arimaca </td>
   <td style="text-align:right;"> 3.828641 </td>
   <td style="text-align:right;"> 0.000000 </td>
   <td style="text-align:right;"> 0.0000000 </td>
   <td style="text-align:right;"> 0.6931472 </td>
   <td style="text-align:right;"> 0.6931472 </td>
   <td style="text-align:right;"> 1.386294 </td>
   <td style="text-align:right;"> 1.386294 </td>
   <td style="text-align:right;"> 0.6931472 </td>
   <td style="text-align:right;"> 0.0000000 </td>
   <td style="text-align:right;"> 0.0000000 </td>
   <td style="text-align:right;"> 0.0000000 </td>
   <td style="text-align:right;"> 3.178054 </td>
   <td style="text-align:right;"> 0.0000000 </td>
   <td style="text-align:right;"> 0.000000 </td>
   <td style="text-align:right;"> 1.6094379 </td>
   <td style="text-align:right;"> 1.386294 </td>
   <td style="text-align:right;"> 1.609438 </td>
   <td style="text-align:right;"> 1.791759 </td>
   <td style="text-align:right;"> 2.890372 </td>
   <td style="text-align:right;"> 0.000000 </td>
   <td style="text-align:right;"> 1.098612 </td>
   <td style="text-align:right;"> 0.6931472 </td>
   <td style="text-align:right;"> 0.6931472 </td>
   <td style="text-align:right;"> 0.0000000 </td>
   <td style="text-align:right;"> 1.945910 </td>
   <td style="text-align:right;"> 0.0000000 </td>
   <td style="text-align:right;"> 0.0000000 </td>
   <td style="text-align:right;"> 0.6931472 </td>
   <td style="text-align:right;"> 2.944439 </td>
   <td style="text-align:right;"> 0.000000 </td>
   <td style="text-align:right;"> 1.0986123 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Caracoli </td>
   <td style="text-align:right;"> 2.944439 </td>
   <td style="text-align:right;"> 1.098612 </td>
   <td style="text-align:right;"> 0.0000000 </td>
   <td style="text-align:right;"> 0.0000000 </td>
   <td style="text-align:right;"> 0.0000000 </td>
   <td style="text-align:right;"> 2.833213 </td>
   <td style="text-align:right;"> 0.000000 </td>
   <td style="text-align:right;"> 0.6931472 </td>
   <td style="text-align:right;"> 0.0000000 </td>
   <td style="text-align:right;"> 0.0000000 </td>
   <td style="text-align:right;"> 0.0000000 </td>
   <td style="text-align:right;"> 3.713572 </td>
   <td style="text-align:right;"> 0.6931472 </td>
   <td style="text-align:right;"> 1.386294 </td>
   <td style="text-align:right;"> 0.0000000 </td>
   <td style="text-align:right;"> 2.772589 </td>
   <td style="text-align:right;"> 2.564949 </td>
   <td style="text-align:right;"> 2.397895 </td>
   <td style="text-align:right;"> 3.583519 </td>
   <td style="text-align:right;"> 2.197225 </td>
   <td style="text-align:right;"> 0.000000 </td>
   <td style="text-align:right;"> 0.6931472 </td>
   <td style="text-align:right;"> 2.3025851 </td>
   <td style="text-align:right;"> 0.6931472 </td>
   <td style="text-align:right;"> 2.484907 </td>
   <td style="text-align:right;"> 0.0000000 </td>
   <td style="text-align:right;"> 0.0000000 </td>
   <td style="text-align:right;"> 1.0986123 </td>
   <td style="text-align:right;"> 2.639057 </td>
   <td style="text-align:right;"> 0.000000 </td>
   <td style="text-align:right;"> 0.6931472 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Pozo Azul </td>
   <td style="text-align:right;"> 4.564348 </td>
   <td style="text-align:right;"> 1.098612 </td>
   <td style="text-align:right;"> 0.6931472 </td>
   <td style="text-align:right;"> 0.6931472 </td>
   <td style="text-align:right;"> 0.6931472 </td>
   <td style="text-align:right;"> 2.995732 </td>
   <td style="text-align:right;"> 0.000000 </td>
   <td style="text-align:right;"> 2.3978953 </td>
   <td style="text-align:right;"> 0.6931472 </td>
   <td style="text-align:right;"> 0.6931472 </td>
   <td style="text-align:right;"> 0.6931472 </td>
   <td style="text-align:right;"> 4.189655 </td>
   <td style="text-align:right;"> 0.0000000 </td>
   <td style="text-align:right;"> 2.079442 </td>
   <td style="text-align:right;"> 0.6931472 </td>
   <td style="text-align:right;"> 2.772589 </td>
   <td style="text-align:right;"> 3.737670 </td>
   <td style="text-align:right;"> 1.945910 </td>
   <td style="text-align:right;"> 3.912023 </td>
   <td style="text-align:right;"> 3.401197 </td>
   <td style="text-align:right;"> 0.000000 </td>
   <td style="text-align:right;"> 1.7917595 </td>
   <td style="text-align:right;"> 3.0910425 </td>
   <td style="text-align:right;"> 1.7917595 </td>
   <td style="text-align:right;"> 4.248495 </td>
   <td style="text-align:right;"> 0.6931472 </td>
   <td style="text-align:right;"> 0.6931472 </td>
   <td style="text-align:right;"> 2.3025851 </td>
   <td style="text-align:right;"> 2.890372 </td>
   <td style="text-align:right;"> 1.386294 </td>
   <td style="text-align:right;"> 3.5553481 </td>
  </tr>
</tbody>
</table>

</div>
</div>
<hr>
</section>
<section id="transposici√≥n-de-datos-2" class="level4">
<h4 class="anchored" data-anchor-id="transposici√≥n-de-datos-2">1.5 Transposici√≥n de datos</h4>
<p>Se convierte la base de datos de formato ancho a formato largo, generando una columna para la familia y otra para su abundancia. <code>pivot_longer</code> cambia la estructura de los datos de ancho a largo.</p>
<div class="cell">
<details>
<summary>C√≥digo</summary>
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Convertir de formato ancho a largo: `pivot_longer()` transforma las columnas de taxones</span></span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a><span class="co"># en dos nuevas columnas: `familia` (para los nombres de los taxones) y `abundancia` (para sus valores).</span></span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a><span class="co"># `-Sitio` indica que todas las columnas excepto `Sitio` deben ser pivotadas.</span></span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a>inv2_long <span class="ot">&lt;-</span></span>
<span id="cb39-5"><a href="#cb39-5" aria-hidden="true" tabindex="-1"></a>  inv2 <span class="sc">%&gt;%</span></span>
<span id="cb39-6"><a href="#cb39-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="sc">-</span>Sitio, <span class="at">names_to =</span> <span class="st">"familia"</span>, <span class="at">values_to =</span> <span class="st">"abundancia"</span>)</span>
<span id="cb39-7"><a href="#cb39-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-8"><a href="#cb39-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Se muestra a las primeras filas del dataframe filtrado para verificar el resultado.</span></span>
<span id="cb39-9"><a href="#cb39-9" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(inv2_long) <span class="sc">%&gt;%</span></span>
<span id="cb39-10"><a href="#cb39-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kbl</span>() <span class="sc">%&gt;%</span></span>
<span id="cb39-11"><a href="#cb39-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_classic</span>(<span class="at">full_width =</span> F)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">

<table class=" lightable-classic" style="font-family: &quot;Arial Narrow&quot;, &quot;Source Sans Pro&quot;, sans-serif; width: auto !important; margin-left: auto; margin-right: auto;">
 <thead>
  <tr>
   <th style="text-align:left;"> Sitio </th>
   <th style="text-align:left;"> familia </th>
   <th style="text-align:right;"> abundancia </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;"> Arimaca </td>
   <td style="text-align:left;"> Baetidae </td>
   <td style="text-align:right;"> 45 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Arimaca </td>
   <td style="text-align:left;"> Belidae </td>
   <td style="text-align:right;"> 0 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Arimaca </td>
   <td style="text-align:left;"> Blephariceridae </td>
   <td style="text-align:right;"> 0 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Arimaca </td>
   <td style="text-align:left;"> Calopterygidae </td>
   <td style="text-align:right;"> 1 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Arimaca </td>
   <td style="text-align:left;"> Ceratopogonidae </td>
   <td style="text-align:right;"> 1 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Arimaca </td>
   <td style="text-align:left;"> Chironomidae </td>
   <td style="text-align:right;"> 3 </td>
  </tr>
</tbody>
</table>

</div>
</div>
<hr>
</section>
<section id="uni√≥n-de-datos-2" class="level4">
<h4 class="anchored" data-anchor-id="uni√≥n-de-datos-2">1.6 Uni√≥n de datos</h4>
<p>Se une la informaci√≥n bi√≥tica (inv2) con la fisicoqu√≠mica (fq) a trav√©s de la variable com√∫n Sitio, para tener una base integrada.</p>
<div class="cell">
<details>
<summary>C√≥digo</summary>
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Unir bases de datos: `left_join()` combina `inv2` (datos bi√≥ticos) con `fq` (datos fisicoqu√≠micos)</span></span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a><span class="co"># bas√°ndose en la columna com√∫n `Sitio`. Esto permite analizar la relaci√≥n entre</span></span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a><span class="co"># los macroinvertebrados y las condiciones ambientales.</span></span>
<span id="cb40-4"><a href="#cb40-4" aria-hidden="true" tabindex="-1"></a><span class="co"># `glimpse()` muestra un resumen de la estructura del dataframe resultante.</span></span>
<span id="cb40-5"><a href="#cb40-5" aria-hidden="true" tabindex="-1"></a>inv2 <span class="sc">%&gt;%</span></span>
<span id="cb40-6"><a href="#cb40-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(fq, <span class="at">by =</span> <span class="st">"Sitio"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb40-7"><a href="#cb40-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">glimpse</span>()</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 7
Columns: 57
$ Sitio           &lt;chr&gt; "Arimaca", "Arimaca", "Arimaca", "Caracoli", "Caracoli‚Ä¶
$ Baetidae        &lt;dbl&gt; 45, 45, 45, 18, 18, 18, 95
$ Belidae         &lt;dbl&gt; 0, 0, 0, 2, 2, 2, 2
$ Blephariceridae &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 1
$ Calopterygidae  &lt;dbl&gt; 1, 1, 1, 0, 0, 0, 1
$ Ceratopogonidae &lt;dbl&gt; 1, 1, 1, 0, 0, 0, 1
$ Chironomidae    &lt;dbl&gt; 3, 3, 3, 16, 16, 16, 19
$ Coenagrionidae  &lt;dbl&gt; 3, 3, 3, 0, 0, 0, 0
$ Corydalidae     &lt;dbl&gt; 1, 1, 1, 1, 1, 1, 10
$ Crambidae       &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 1
$ Dixidae         &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 1
$ Dugesiidae      &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 1
$ Elmidae         &lt;dbl&gt; 23, 23, 23, 40, 40, 40, 65
$ Empididae       &lt;dbl&gt; 0, 0, 0, 1, 1, 1, 0
$ Gomphidae       &lt;dbl&gt; 0, 0, 0, 3, 3, 3, 7
$ Hydrobiidae     &lt;dbl&gt; 4, 4, 4, 0, 0, 0, 1
$ Hydropsychidae  &lt;dbl&gt; 3, 3, 3, 15, 15, 15, 15
$ Leptoceridae    &lt;dbl&gt; 4, 4, 4, 12, 12, 12, 41
$ Leptohyphidae   &lt;dbl&gt; 5, 5, 5, 10, 10, 10, 6
$ Leptophlebiidae &lt;dbl&gt; 17, 17, 17, 35, 35, 35, 49
$ Libellulidae    &lt;dbl&gt; 0, 0, 0, 8, 8, 8, 29
$ Limnesiidae     &lt;dbl&gt; 2, 2, 2, 0, 0, 0, 0
$ Lumbriculidae   &lt;dbl&gt; 1, 1, 1, 1, 1, 1, 5
$ Naucoridae      &lt;dbl&gt; 1, 1, 1, 9, 9, 9, 21
$ Oligoneuriidae  &lt;dbl&gt; 0, 0, 0, 1, 1, 1, 5
$ Perlidae        &lt;dbl&gt; 6, 6, 6, 11, 11, 11, 69
$ Psephenidae     &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 1
$ Psychodidae     &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 1
$ Ptilodactylidae &lt;dbl&gt; 1, 1, 1, 2, 2, 2, 9
$ Simuliidae      &lt;dbl&gt; 18, 18, 18, 13, 13, 13, 17
$ Tipulidae       &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 3
$ Veliidae        &lt;dbl&gt; 2, 2, 2, 1, 1, 1, 34
$ Replica         &lt;dbl&gt; 1, 2, 3, 1, 2, 3, NA
$ Temperatura     &lt;dbl&gt; 22.3, 21.8, 21.9, 23.2, 23.1, 23.0, NA
$ Conductividad   &lt;dbl&gt; 77.2, 78.4, 82.1, 97.4, 93.9, 79.8, NA
$ Oxigeno         &lt;dbl&gt; 5.21, 5.33, 5.31, 4.83, 4.82, 5.14, NA
$ Luz             &lt;dbl&gt; 2160, 2500, 2220, 4600, 2400, 4100, NA
$ Amonio          &lt;dbl&gt; 1e-04, 1e-04, 1e-04, 1e-02, 5e-02, 3e-02, NA
$ Nitrito         &lt;dbl&gt; 0.0105, 0.0152, 0.0152, 0.0355, 0.0368, 0.0355, NA
$ Nitrato         &lt;dbl&gt; 0.1427, 0.1421, 0.1429, 0.2061, 0.2055, 0.2059, NA
$ Fosfato         &lt;dbl&gt; 0.0883, 0.0927, 0.1689, 0.4780, 0.5765, 0.5855, NA
$ Roca            &lt;dbl&gt; 35.71429, 0.00000, 60.00000, 55.55556, 0.00000, 38.461‚Ä¶
$ Grava           &lt;dbl&gt; 28.57143, 46.66667, 10.00000, 44.44444, 62.50000, 46.1‚Ä¶
$ Hoj             &lt;dbl&gt; 0, 0, 0, 0, 0, 0, NA
$ Sed             &lt;dbl&gt; 7.142857, 6.666667, 0.000000, 0.000000, 0.000000, 0.00‚Ä¶
$ Arena           &lt;dbl&gt; 7.142857, 46.666667, 30.000000, 0.000000, 37.500000, 1‚Ä¶
$ Ra√≠ces          &lt;dbl&gt; 0, 0, 0, 0, 0, 0, NA
$ Longitud        &lt;dbl&gt; 30, 60, 90, 30, 60, 90, NA
$ Prof.Media      &lt;dbl&gt; 0.2350000, 0.2378667, 0.2228000, 0.3222222, 0.2711250,‚Ä¶
$ Ancho           &lt;dbl&gt; 6.60, 6.80, 9.30, 3.83, 5.74, 5.74, NA
$ Vel.prom        &lt;dbl&gt; 0.04, 0.08, 0.02, 0.60, 0.20, 0.30, NA
$ Area            &lt;dbl&gt; 1.551000, 1.617493, 2.072040, 1.234111, 1.556257, 1.93‚Ä¶
$ Caudal          &lt;dbl&gt; 0.0620400, 0.1293995, 0.0414408, 0.7404667, 0.3112515,‚Ä¶
$ Perim           &lt;dbl&gt; 7.070000, 7.275733, 9.745600, 4.474444, 6.282250, 6.41‚Ä¶
$ Radio           &lt;dbl&gt; 0.2193777, 0.2223134, 0.2126129, 0.2758133, 0.2477229,‚Ä¶
$ Prof.Hidra      &lt;dbl&gt; 0.2350000, 0.2378667, 0.2228000, 0.3222222, 0.2711250,‚Ä¶
$ No.Froude       &lt;dbl&gt; 0.02635803, 0.05239745, 0.01353503, 0.33764511, 0.1226‚Ä¶</code></pre>
</div>
</div>
<hr>
</section>
<section id="conversi√≥n-de-variables-categ√≥ricas-1" class="level4">
<h4 class="anchored" data-anchor-id="conversi√≥n-de-variables-categ√≥ricas-1">1.6 Conversi√≥n de variables categ√≥ricas</h4>
<p>Se convierte Sitio en un factor ordenado, √∫til para an√°lisis gr√°ficos o modelos que respeten un orden l√≥gico (r√≠o arriba ‚Üí r√≠o abajo, por ejemplo).</p>
<div class="cell">
<details>
<summary>C√≥digo</summary>
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Convertir `Sitio` a un factor ordenado:</span></span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a><span class="co"># `mutate(Sitio = factor(Sitio, levels = c(...)))` convierte la columna `Sitio` en un factor.</span></span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a><span class="co"># `levels` especifica el orden deseado de las categor√≠as, lo cual es importante para visualizaciones</span></span>
<span id="cb42-4"><a href="#cb42-4" aria-hidden="true" tabindex="-1"></a><span class="co"># y an√°lisis donde el orden tiene un significado (ej. gradiente espacial).</span></span>
<span id="cb42-5"><a href="#cb42-5" aria-hidden="true" tabindex="-1"></a>fq <span class="ot">&lt;-</span></span>
<span id="cb42-6"><a href="#cb42-6" aria-hidden="true" tabindex="-1"></a>  fq <span class="sc">%&gt;%</span></span>
<span id="cb42-7"><a href="#cb42-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Sitio =</span> <span class="fu">factor</span>(Sitio, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"Pozo Azul"</span>, <span class="st">"Arimaca"</span>, <span class="st">"Caracoli"</span>)))</span>
<span id="cb42-8"><a href="#cb42-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-9"><a href="#cb42-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Estructura de Sitio como factor</span></span>
<span id="cb42-10"><a href="#cb42-10" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(fq[,<span class="dv">1</span>]) </span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>tibble [9 √ó 1] (S3: tbl_df/tbl/data.frame)
 $ Sitio: Factor w/ 3 levels "Pozo Azul","Arimaca",..: 2 2 2 3 3 3 NA NA NA</code></pre>
</div>
</div>
<hr>
</section>
<section id="abreviar-nombres-de-grupos-biol√≥gicos-2" class="level4">
<h4 class="anchored" data-anchor-id="abreviar-nombres-de-grupos-biol√≥gicos-2">1.8 Abreviar nombres de grupos biol√≥gicos</h4>
<p>Se acortan los nombres de las columnas taxon√≥micas para facilitar la visualizaci√≥n y an√°lisis, especialmente √∫til para gr√°ficos.</p>
<div class="cell">
<details>
<summary>C√≥digo</summary>
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Obtener los nombres de las columnas taxon√≥micas (todas excepto la primera, que es `Sitio`).</span></span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a>nombres <span class="ot">&lt;-</span></span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">names</span>(inv2)[<span class="sc">-</span><span class="dv">1</span>]</span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-5"><a href="#cb44-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Crear abreviaciones para los nombres de las familias:</span></span>
<span id="cb44-6"><a href="#cb44-6" aria-hidden="true" tabindex="-1"></a><span class="co"># `str_replace_all(nombres, "idae", "")` elimina la terminaci√≥n "idae" de los nombres.</span></span>
<span id="cb44-7"><a href="#cb44-7" aria-hidden="true" tabindex="-1"></a><span class="co"># `str_sub(1, 4)` toma los primeros 4 caracteres de cada nombre.</span></span>
<span id="cb44-8"><a href="#cb44-8" aria-hidden="true" tabindex="-1"></a><span class="co"># `make.unique()` asegura que todas las abreviaciones sean √∫nicas.</span></span>
<span id="cb44-9"><a href="#cb44-9" aria-hidden="true" tabindex="-1"></a>abreviaciones <span class="ot">&lt;-</span></span>
<span id="cb44-10"><a href="#cb44-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_replace_all</span>(nombres, <span class="st">"idae"</span>, <span class="st">""</span>) <span class="sc">%&gt;%</span></span>
<span id="cb44-11"><a href="#cb44-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_sub</span>(<span class="dv">1</span>, <span class="dv">4</span>) <span class="sc">%&gt;%</span></span>
<span id="cb44-12"><a href="#cb44-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">make.unique</span>()</span>
<span id="cb44-13"><a href="#cb44-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-14"><a href="#cb44-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Asignar las abreviaciones como nuevos nombres de columna al dataframe `inv2`.</span></span>
<span id="cb44-15"><a href="#cb44-15" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(inv2)[<span class="sc">-</span><span class="dv">1</span>] <span class="ot">&lt;-</span></span>
<span id="cb44-16"><a href="#cb44-16" aria-hidden="true" tabindex="-1"></a>  abreviaciones</span>
<span id="cb44-17"><a href="#cb44-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-18"><a href="#cb44-18" aria-hidden="true" tabindex="-1"></a><span class="co"># Se muestra a las primeras filas del dataframe filtrado para verificar el resultado.</span></span>
<span id="cb44-19"><a href="#cb44-19" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(abreviaciones) <span class="sc">%&gt;%</span></span>
<span id="cb44-20"><a href="#cb44-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kbl</span>() <span class="sc">%&gt;%</span></span>
<span id="cb44-21"><a href="#cb44-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_classic</span>(<span class="at">full_width =</span> F)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">

<table class=" lightable-classic" style="font-family: &quot;Arial Narrow&quot;, &quot;Source Sans Pro&quot;, sans-serif; width: auto !important; margin-left: auto; margin-right: auto;">
 <thead>
  <tr>
   <th style="text-align:left;"> x </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;"> Baet </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Bel </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Blep </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Calo </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Cera </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Chir </td>
  </tr>
</tbody>
</table>

</div>
<details>
<summary>C√≥digo</summary>
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Se muestra el dataframe para verificar el resultado.</span></span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a>inv2 <span class="sc">%&gt;%</span></span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kbl</span>() <span class="sc">%&gt;%</span></span>
<span id="cb45-4"><a href="#cb45-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_classic</span>(<span class="at">full_width =</span> F)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">

<table class=" lightable-classic" style="font-family: &quot;Arial Narrow&quot;, &quot;Source Sans Pro&quot;, sans-serif; width: auto !important; margin-left: auto; margin-right: auto;">
 <thead>
  <tr>
   <th style="text-align:left;"> Sitio </th>
   <th style="text-align:right;"> Baet </th>
   <th style="text-align:right;"> Bel </th>
   <th style="text-align:right;"> Blep </th>
   <th style="text-align:right;"> Calo </th>
   <th style="text-align:right;"> Cera </th>
   <th style="text-align:right;"> Chir </th>
   <th style="text-align:right;"> Coen </th>
   <th style="text-align:right;"> Cory </th>
   <th style="text-align:right;"> Cram </th>
   <th style="text-align:right;"> Dix </th>
   <th style="text-align:right;"> Duge </th>
   <th style="text-align:right;"> Elm </th>
   <th style="text-align:right;"> Empi </th>
   <th style="text-align:right;"> Gomp </th>
   <th style="text-align:right;"> Hydr </th>
   <th style="text-align:right;"> Hydr.1 </th>
   <th style="text-align:right;"> Lept </th>
   <th style="text-align:right;"> Lept.1 </th>
   <th style="text-align:right;"> Lept.2 </th>
   <th style="text-align:right;"> Libe </th>
   <th style="text-align:right;"> Limn </th>
   <th style="text-align:right;"> Lumb </th>
   <th style="text-align:right;"> Nauc </th>
   <th style="text-align:right;"> Olig </th>
   <th style="text-align:right;"> Perl </th>
   <th style="text-align:right;"> Psep </th>
   <th style="text-align:right;"> Psyc </th>
   <th style="text-align:right;"> Ptil </th>
   <th style="text-align:right;"> Simu </th>
   <th style="text-align:right;"> Tipu </th>
   <th style="text-align:right;"> Veli </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;"> Arimaca </td>
   <td style="text-align:right;"> 45 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 3 </td>
   <td style="text-align:right;"> 3 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 23 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 4 </td>
   <td style="text-align:right;"> 3 </td>
   <td style="text-align:right;"> 4 </td>
   <td style="text-align:right;"> 5 </td>
   <td style="text-align:right;"> 17 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 2 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 6 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 18 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 2 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Caracoli </td>
   <td style="text-align:right;"> 18 </td>
   <td style="text-align:right;"> 2 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 16 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 40 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 3 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 15 </td>
   <td style="text-align:right;"> 12 </td>
   <td style="text-align:right;"> 10 </td>
   <td style="text-align:right;"> 35 </td>
   <td style="text-align:right;"> 8 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 9 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 11 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 2 </td>
   <td style="text-align:right;"> 13 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 1 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Pozo Azul </td>
   <td style="text-align:right;"> 95 </td>
   <td style="text-align:right;"> 2 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 19 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 10 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 65 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 7 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 15 </td>
   <td style="text-align:right;"> 41 </td>
   <td style="text-align:right;"> 6 </td>
   <td style="text-align:right;"> 49 </td>
   <td style="text-align:right;"> 29 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 5 </td>
   <td style="text-align:right;"> 21 </td>
   <td style="text-align:right;"> 5 </td>
   <td style="text-align:right;"> 69 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 9 </td>
   <td style="text-align:right;"> 17 </td>
   <td style="text-align:right;"> 3 </td>
   <td style="text-align:right;"> 34 </td>
  </tr>
</tbody>
</table>

</div>
</div>
<hr>
</section>
<section id="seleccionar-los-5-taxones-m√°s-abundantes-2" class="level4">
<h4 class="anchored" data-anchor-id="seleccionar-los-5-taxones-m√°s-abundantes-2">1.9 Seleccionar los 5 taxones m√°s abundantes</h4>
<p>En el an√°lisis de comunidades ecol√≥gicas, a menudo es crucial identificar las especies o grupos taxon√≥micos que dominan en t√©rminos de abundancia. La capacidad de <strong>seleccionar los taxones m√°s abundantes</strong> nos permite enfocar nuestro an√°lisis en los componentes clave del ecosistema, aquellos que probablemente tienen un mayor impacto en la estructura y funci√≥n de la comunidad. Utilizando funciones como <code>group_by</code>, <code>summarise</code> y <code>slice_max</code> de <code>tidyverse</code>, podemos cuantificar la abundancia total de cada tax√≥n y luego filtrar para identificar los m√°s prevalentes. Esto es similar a un bi√≥logo que, despu√©s de un muestreo exhaustivo, se concentra en las cinco especies de peces m√°s comunes en un r√≠o para entender mejor la din√°mica de la poblaci√≥n. Al destacar los taxones dominantes, podemos obtener una comprensi√≥n m√°s clara de la composici√≥n de la comunidad y de los factores que influyen en su distribuci√≥n.</p>
<p>Se identifican los cinco taxones (familias) m√°s abundantes en la base inv2.</p>
<div class="cell">
<details>
<summary>C√≥digo</summary>
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Identificar los 5 taxones m√°s abundantes:</span></span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a><span class="co"># 1. `ungroup()`: Elimina cualquier agrupaci√≥n previa del dataframe.</span></span>
<span id="cb46-3"><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a><span class="co"># 2. `group_by(familia)`: Agrupa los datos por la columna `familia`.</span></span>
<span id="cb46-4"><a href="#cb46-4" aria-hidden="true" tabindex="-1"></a><span class="co"># 3. `summarise(total = sum(abundancia, na.rm = TRUE))`: Calcula la abundancia total para cada familia.</span></span>
<span id="cb46-5"><a href="#cb46-5" aria-hidden="true" tabindex="-1"></a><span class="co"># 4. `slice_max(order_by = total, n = 5)`: Selecciona las 5 familias con la mayor abundancia total.</span></span>
<span id="cb46-6"><a href="#cb46-6" aria-hidden="true" tabindex="-1"></a>inv2_long1 <span class="ot">&lt;-</span></span>
<span id="cb46-7"><a href="#cb46-7" aria-hidden="true" tabindex="-1"></a>inv2_long <span class="sc">%&gt;%</span></span>
<span id="cb46-8"><a href="#cb46-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(familia) <span class="sc">%&gt;%</span></span>
<span id="cb46-9"><a href="#cb46-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">total =</span> <span class="fu">sum</span>(abundancia, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb46-10"><a href="#cb46-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice_max</span>(<span class="at">order_by =</span> total, <span class="at">n =</span> <span class="dv">5</span>)</span>
<span id="cb46-11"><a href="#cb46-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-12"><a href="#cb46-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Se muestra el dataframe para verificar el resultado.</span></span>
<span id="cb46-13"><a href="#cb46-13" aria-hidden="true" tabindex="-1"></a>inv2_long1 <span class="sc">%&gt;%</span></span>
<span id="cb46-14"><a href="#cb46-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kbl</span>() <span class="sc">%&gt;%</span></span>
<span id="cb46-15"><a href="#cb46-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_classic</span>(<span class="at">full_width =</span> F)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">

<table class=" lightable-classic" style="font-family: &quot;Arial Narrow&quot;, &quot;Source Sans Pro&quot;, sans-serif; width: auto !important; margin-left: auto; margin-right: auto;">
 <thead>
  <tr>
   <th style="text-align:left;"> familia </th>
   <th style="text-align:right;"> total </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;"> Baetidae </td>
   <td style="text-align:right;"> 158 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Elmidae </td>
   <td style="text-align:right;"> 128 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Leptophlebiidae </td>
   <td style="text-align:right;"> 101 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Perlidae </td>
   <td style="text-align:right;"> 86 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Leptoceridae </td>
   <td style="text-align:right;"> 57 </td>
  </tr>
</tbody>
</table>

</div>
</div>
<hr>
</section>
<section id="visualizaci√≥n-1" class="level4">
<h4 class="anchored" data-anchor-id="visualizaci√≥n-1">1.10 Visualizaci√≥n</h4>
<p>La <strong>visualizaci√≥n de datos</strong> es el arte de transformar n√∫meros en im√°genes que cuentan una historia. En ecolog√≠a, un gr√°fico bien dise√±ado puede revelar patrones, tendencias y anomal√≠as que ser√≠an invisibles en una tabla de datos. Es como el momento en que un ec√≥logo observa un mapa de distribuci√≥n de especies y comprende de inmediato la influencia de un factor ambiental. <code>ggplot2</code>, una librer√≠a fundamental en R, nos permite construir gr√°ficos complejos capa por capa, desde los puntos de datos hasta las etiquetas y los t√≠tulos. Al visualizar la abundancia de taxones, por ejemplo, podemos identificar r√°pidamente qu√© grupos dominan y c√≥mo se distribuyen. Esta secci√≥n se enfoca en c√≥mo crear gr√°ficos de barras efectivos para comunicar nuestros hallazgos de manera clara y concisa, haciendo que la ciencia de datos sea accesible y comprensible para una audiencia m√°s amplia.</p>
<p>Se genera un gr√°fico de barras con la abundancia media de cada tax√≥n en inv2.</p>
<div class="cell">
<details>
<summary>C√≥digo</summary>
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Generar un gr√°fico de barras de la abundancia media por familia:</span></span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a><span class="co"># 1. `group_by(familia)`: Agrupa los datos por la columna `familia`.</span></span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a><span class="co"># 2. `summarise(media = mean(abundancia, na.rm = TRUE))`: Calcula la abundancia media para cada familia.</span></span>
<span id="cb47-4"><a href="#cb47-4" aria-hidden="true" tabindex="-1"></a><span class="co"># 3. `ggplot(aes(x = reorder(familia, -media), y = media))`: Inicia la creaci√≥n del gr√°fico con `ggplot2`.</span></span>
<span id="cb47-5"><a href="#cb47-5" aria-hidden="true" tabindex="-1"></a><span class="co">#    `reorder(familia, -media)` ordena las familias en el eje X de mayor a menor abundancia media.</span></span>
<span id="cb47-6"><a href="#cb47-6" aria-hidden="true" tabindex="-1"></a><span class="co"># 4. `geom_col(fill = "#1f78b4")`: A√±ade las barras al gr√°fico, con un color espec√≠fico.</span></span>
<span id="cb47-7"><a href="#cb47-7" aria-hidden="true" tabindex="-1"></a><span class="co"># 5. `labs()`: Define los t√≠tulos de los ejes y el t√≠tulo principal del gr√°fico.</span></span>
<span id="cb47-8"><a href="#cb47-8" aria-hidden="true" tabindex="-1"></a><span class="co"># 6. `theme_bw()`: Aplica un tema en blanco y negro al gr√°fico.</span></span>
<span id="cb47-9"><a href="#cb47-9" aria-hidden="true" tabindex="-1"></a><span class="co"># 7. `theme(axis.text.x = element_text(angle = 45, hjust = 1))`: Rota las etiquetas del eje X para mejor legibilidad.</span></span>
<span id="cb47-10"><a href="#cb47-10" aria-hidden="true" tabindex="-1"></a>inv2_long <span class="sc">%&gt;%</span></span>
<span id="cb47-11"><a href="#cb47-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(familia) <span class="sc">%&gt;%</span></span>
<span id="cb47-12"><a href="#cb47-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">media =</span> <span class="fu">mean</span>(abundancia, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb47-13"><a href="#cb47-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">reorder</span>(familia, <span class="sc">-</span>media), <span class="at">y =</span> media)) <span class="sc">+</span></span>
<span id="cb47-14"><a href="#cb47-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="at">fill =</span> <span class="st">"#1f78b4"</span>) <span class="sc">+</span></span>
<span id="cb47-15"><a href="#cb47-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Familias de Macroinvertebrados"</span>, <span class="at">y =</span> <span class="st">"Promedio de abundancia"</span>, <span class="at">title =</span> <span class="st">"Familias m√°s abundantes"</span>) <span class="sc">+</span></span>
<span id="cb47-16"><a href="#cb47-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span></span>
<span id="cb47-17"><a href="#cb47-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>),</span>
<span id="cb47-18"><a href="#cb47-18" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.grid =</span> <span class="fu">element_blank</span>())</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="1_datos_files/figure-html/unnamed-chunk-39-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<hr>
</section>
<section id="categorizar-una-variable-continua" class="level4">
<h4 class="anchored" data-anchor-id="categorizar-una-variable-continua">1.11 Categorizar una variable continua</h4>
<p>En la ecolog√≠a, muchas variables ambientales, como la temperatura, la salinidad o el ox√≠geno disuelto, son continuas. Sin embargo, para ciertos an√°lisis o para la toma de decisiones de gesti√≥n, a menudo es √∫til <strong>categorizar una variable continua</strong> en rangos discretos (por ejemplo, ‚Äúbajo‚Äù, ‚Äúmedio‚Äù, ‚Äúalto‚Äù). Esto es similar a clasificar la calidad del agua en diferentes niveles de riesgo para la vida acu√°tica. La funci√≥n <code>case_when()</code> de <code>tidyverse</code> es una herramienta flexible y poderosa para realizar esta categorizaci√≥n, permiti√©ndonos definir reglas claras para asignar cada observaci√≥n a una categor√≠a espec√≠fica. Al transformar una variable continua en categ√≥rica, simplificamos la interpretaci√≥n de los datos y facilitamos la comunicaci√≥n de resultados a audiencias no t√©cnicas, lo que es crucial para la aplicaci√≥n de la ciencia ecol√≥gica en la conservaci√≥n y la gesti√≥n ambiental.</p>
<p>Se categoriza el nivel de ox√≠geno disuelto como bajo, medio o alto, usando puntos de corte arbitrarios como ejemplo.</p>
<div class="cell">
<details>
<summary>C√≥digo</summary>
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Categorizar el nivel de ox√≠geno disuelto:</span></span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a><span class="co"># `mutate(cat_oxigeno = case_when(...))` crea una nueva columna categ√≥rica `cat_oxigeno`</span></span>
<span id="cb48-3"><a href="#cb48-3" aria-hidden="true" tabindex="-1"></a><span class="co"># bas√°ndose en los valores de la columna `Oxigeno`.</span></span>
<span id="cb48-4"><a href="#cb48-4" aria-hidden="true" tabindex="-1"></a><span class="co"># `case_when()` permite definir m√∫ltiples condiciones para la categorizaci√≥n.</span></span>
<span id="cb48-5"><a href="#cb48-5" aria-hidden="true" tabindex="-1"></a><span class="co"># `count(cat_oxigeno)` muestra el n√∫mero de observaciones en cada nueva categor√≠a.</span></span>
<span id="cb48-6"><a href="#cb48-6" aria-hidden="true" tabindex="-1"></a>fq1 <span class="ot">&lt;-</span></span>
<span id="cb48-7"><a href="#cb48-7" aria-hidden="true" tabindex="-1"></a>fq <span class="sc">%&gt;%</span></span>
<span id="cb48-8"><a href="#cb48-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Cat_oxigeno =</span> <span class="fu">case_when</span>(</span>
<span id="cb48-9"><a href="#cb48-9" aria-hidden="true" tabindex="-1"></a>    Oxigeno <span class="sc">&lt;</span>  <span class="dv">5</span>    <span class="sc">~</span> <span class="st">"Bajo"</span>,</span>
<span id="cb48-10"><a href="#cb48-10" aria-hidden="true" tabindex="-1"></a>    Oxigeno <span class="sc">&lt;=</span> <span class="fl">6.5</span>  <span class="sc">~</span> <span class="st">"Medio"</span>,</span>
<span id="cb48-11"><a href="#cb48-11" aria-hidden="true" tabindex="-1"></a>    <span class="cn">TRUE</span>            <span class="sc">~</span> <span class="st">"Alto"</span></span>
<span id="cb48-12"><a href="#cb48-12" aria-hidden="true" tabindex="-1"></a>  )) <span class="sc">%&gt;%</span></span>
<span id="cb48-13"><a href="#cb48-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(Cat_oxigeno)</span>
<span id="cb48-14"><a href="#cb48-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-15"><a href="#cb48-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Se muestra el dataframe para verificar el resultado.</span></span>
<span id="cb48-16"><a href="#cb48-16" aria-hidden="true" tabindex="-1"></a>fq1 <span class="sc">%&gt;%</span></span>
<span id="cb48-17"><a href="#cb48-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kbl</span>() <span class="sc">%&gt;%</span></span>
<span id="cb48-18"><a href="#cb48-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable_classic</span>(<span class="at">full_width =</span> F)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">

<table class=" lightable-classic" style="font-family: &quot;Arial Narrow&quot;, &quot;Source Sans Pro&quot;, sans-serif; width: auto !important; margin-left: auto; margin-right: auto;">
 <thead>
  <tr>
   <th style="text-align:left;"> Cat_oxigeno </th>
   <th style="text-align:right;"> n </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;"> Bajo </td>
   <td style="text-align:right;"> 2 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Medio </td>
   <td style="text-align:right;"> 7 </td>
  </tr>
</tbody>
</table>

</div>
</div>
<hr>
</section>
</section>
<section id="cuestionario-2" class="level2">
<h2 class="anchored" data-anchor-id="cuestionario-2">üìù Cuestionario</h2>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Nota
</div>
</div>
<div class="callout-body-container callout-body">
<p><strong>Instrucciones</strong>: Responde cada pregunta usando el c√≥digo y los resultados obtenidos en los ejercicios anteriores.</p>
</div>
</div>
<section id="qu√©-estaci√≥n-present√≥-mayor-abundancia-total-de-√≥rdenes" class="level4">
<h4 class="anchored" data-anchor-id="qu√©-estaci√≥n-present√≥-mayor-abundancia-total-de-√≥rdenes">1. ¬øQu√© estaci√≥n present√≥ mayor abundancia total de √≥rdenes?</h4>
<p>Se agrupa por <code>Sitio</code> y se calcula la suma total de invertebrados colectados en cada estaci√≥n (<code>Taxones1</code>).</p>
</section>
<section id="qu√©-familia-present√≥-mayor-abundancia-en-taxones2" class="level4">
<h4 class="anchored" data-anchor-id="qu√©-familia-present√≥-mayor-abundancia-en-taxones2">2. ¬øQu√© familia present√≥ mayor abundancia en <code>Taxones2</code>?</h4>
<p>Se transforma la base a formato largo y se suma la abundancia total por familia.</p>
</section>
<section id="qu√©-patr√≥n-se-observa-en-el-gr√°fico-de-√≥rdenes-m√°s-abundantes" class="level4">
<h4 class="anchored" data-anchor-id="qu√©-patr√≥n-se-observa-en-el-gr√°fico-de-√≥rdenes-m√°s-abundantes">3. ¬øQu√© patr√≥n se observa en el gr√°fico de √≥rdenes m√°s abundantes?</h4>
<p>Ya se abord√≥ en el ejercicio 1.10. Se espera que los estudiantes interpreten visualmente los resultados.</p>
</section>
<section id="cu√°l-fue-el-valor-de-ox√≠geno-disuelto-m√°s-alto-en-qu√©-estaci√≥n" class="level4">
<h4 class="anchored" data-anchor-id="cu√°l-fue-el-valor-de-ox√≠geno-disuelto-m√°s-alto-en-qu√©-estaci√≥n">4. ¬øCu√°l fue el valor de ox√≠geno disuelto m√°s alto? ¬øen qu√© estaci√≥n?</h4>
<p>Se busca el valor m√°ximo en la columna <code>Oxigeno</code> de la base <code>fqu√≠micos</code>.</p>
</section>
<section id="qu√©-estaci√≥n-tuvo-menor-concentraci√≥n-de-ox√≠geno-disuelto" class="level4">
<h4 class="anchored" data-anchor-id="qu√©-estaci√≥n-tuvo-menor-concentraci√≥n-de-ox√≠geno-disuelto">5. ¬øQu√© estaci√≥n tuvo menor concentraci√≥n de ox√≠geno disuelto?</h4>
<p>Se busca el menor valor en la columna <code>Oxigeno</code>.</p>
</section>
<section id="c√≥mo-cambiar√≠an-los-resultados-si-se-analiza-solo-arimaca-y-caracoli" class="level4">
<h4 class="anchored" data-anchor-id="c√≥mo-cambiar√≠an-los-resultados-si-se-analiza-solo-arimaca-y-caracoli">6. ¬øC√≥mo cambiar√≠an los resultados si se analiza solo Arimaca y Caracoli?</h4>
<p>Se filtran las estaciones Arimaca y Caracoli y se analiza su abundancia total.</p>
</section>
<section id="qu√©-sitio-present√≥-mayor-conductividad" class="level4">
<h4 class="anchored" data-anchor-id="qu√©-sitio-present√≥-mayor-conductividad">7 ¬øQu√© sitio present√≥ mayor conductividad?</h4>
<p>Se identifica la estaci√≥n con mayor valor de conductividad el√©ctrica.</p>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Nota
</div>
</div>
<div class="callout-body-container callout-body">
<p><strong>Instrucciones</strong>: Las siguientes preguntas est√°n dise√±adas para ayudarte a consolidar tu capacidad de manipular bases de datos ecol√≥gicas reales. Responde cada una aplicando los comandos aprendidos (<code>filter</code>, <code>mutate</code>, <code>group_by</code>, <code>summarise</code>, etc.) y reflexiona sobre el valor ecol√≥gico de los resultados obtenidos.</p>
</div>
</div>
<ol type="1">
<li>¬øQu√© estaci√≥n present√≥ la mayor abundancia total de macroinvertebrados en <code>Taxones1</code>?</li>
<li>Filtra las estaciones que tengan valores de ox√≠geno disuelto inferiores a 5 mg/L. ¬øQu√© taxones son m√°s abundantes en esas condiciones?</li>
<li>Transforma los datos de <code>Taxones2</code> para identificar las cinco familias m√°s frecuentes. ¬øQu√© patrones puedes interpretar ecol√≥gicamente?</li>
<li>Une los datos biol√≥gicos (<code>inv2</code>) y ambientales (<code>fq</code>). ¬øQu√© variables fisicoqu√≠micas parecen asociarse a las estaciones m√°s ricas en diversidad?</li>
<li>Si quisieras entrenar un modelo predictivo de abundancia usando temperatura, pH y conductividad, ¬øqu√© pasos de preparaci√≥n de datos aplicar√≠as aqu√≠?</li>
</ol>
<hr>
</section>
</section>
<section id="conclusi√≥n" class="level2">
<h2 class="anchored" data-anchor-id="conclusi√≥n">Conclusi√≥n</h2>
<p>La manipulaci√≥n de datos ecol√≥gicos no es solo una tarea t√©cnica, sino una forma de dar voz a la naturaleza. En este cap√≠tulo recorrimos herramientas fundamentales del <code>tidyverse</code> que permiten transformar registros dispersos en estructuras ordenadas, res√∫menes significativos y visualizaciones comprensibles.</p>
<p>Los datos de plancton y de macroinvertebrados nos ofrecieron un escenario para ejercitar habilidades que ser√°n √∫tiles a lo largo de este manual. Aprendimos a filtrar lo esencial, crear nuevas variables que reflejan din√°micas biol√≥gicas, y relacionar lo bi√≥tico con lo abi√≥tico mediante la uni√≥n de bases de datos. Todo ello con un enfoque reproducible, transparente y adaptable.</p>
<p>Este primer paso nos invita a seguir explorando con la certeza de que cada fila de una base de datos puede ser el reflejo de un proceso ecol√≥gico m√°s profundo. El an√°lisis de datos es, entonces, una herramienta para cuidar, entender y transformar nuestro entorno.</p>
<p>En el siguiente cap√≠tulo, profundizaremos en las posibilidades de la exploraci√≥n gr√°fica multivariada, donde patrones, relaciones y contrastes empiezan a revelarse ante nuestros ojos.</p>
</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "Óßã";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copiado");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copiado");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>